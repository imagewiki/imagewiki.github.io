{"version":3,"sources":["/source/index.config.js"],"names":["angular","module","call","this","filter","input","base","directive","restrict","templateUrl","link","scope","element","attr","toggleOpenMenu","find","toggleClass","controller","controllerAs","bindToController","indexOf","item","i","l","length","$compile","$timeout","images","selector","selectable","$scope","$element","$attrs","$transclude","selected","page","isFirstPage","isLastPage","$on","event","args","totalImages","$parent","itemsPerPage","changePage","newPageNumber","$emit","selectImage","image","id","image_id","remove","push","galleryCreated","runGallery","type","message","title","options","closeButton","closeHtml","factory","formatter","error","data","msg","isString","fromJson","forEach","value","key","FileHandler","TempImageModel","hideTooltip","showTooltip","tooltip","trigger","placement","$watch","url","isValidUrl","searchImage","upload","uploadUrl","alert","setOption","option","previewImage","$","removeClass","setPreviewUrl","addClass","$state","ImageModel","MatchModel","goToImage","go","hashid","matchUrl","then","match_result","setResults","results","file","match","progress","evt","success","status","headers","config","name","field","ImageSelects","getSelectOptions","$q","$filter","formatRule","optionRule","pbrSelectModel","platform","platformRule","text","split","rules","formatedRule","len","quit","rule","newRule","notChanged","initial","model","equals","formatInitialValue","formated","formatValue","originalValue","k","newRules","v","formatLabel","PbrSelectModel","ngModel","block","wrap","EditableFieldFactory","ref","showLabel","textInput","datepicker_name","label","copy","tags","unique","edit","showEdit","updateTags","$tag","onTimeSet","newDate","oldDate","moment","format","showField","showFields","cancelEdit","$broadcast","saveEdit","cleanArray","editableFieldFactory","values","isObject","join","fileHandler","filePreviewUrl","callback","reader","FileReader","onload","e","target","result","readAsDataURL","test","vcRecaptchaService","imageId","resetViolation","visible","violation","reporter_user_id","violation_comments","violation_reason_id","response","widgetId","currentUser","setResponse","setWidgetId","cbExpiration","reportViolation","$rootScope","UserAuth","UserDefaultsPromise","isAuthenticated","userDefaults","updateUserDefaults","userDefaultForm","$pristine","update","user","profileEditForm","setCurrentUser","extend","$stateParams","AUTH_EVENTS","userLoginFail","userLoginSuccess","loginSuccess","reason","loginFailed","resetPassword","password","password_confirmation","reset_password_token","email","recover","recoverPassword","get_params","start_loading","stop_loading","toasty","play","setTimeout","$toggle","$field","multiple_images","$image_data","params","relation","relation_id","authenticity_token","val","toLowerCase","document","ready","on","$form","append","appendTo","click","change","submit","preventDefault","modal","get","$modal","html","focus","parents","show","hide","cheet","action","setRandomImage","featuredCollection","collection_images","featuredImage","Math","floor","random","collection_id","getFeaturedImage","collection","reloadFeatured","openSignUpForm","window","scrollTop","isTempImage","homeUpload","addImage","toastr","current","files","loadedFiles","justifiedGallery","rowHeight","margins","load","last","$last","service","bulkUpload","hasImagesSelected","getImages","getUserImages","user_images","index","context","aborted","res","loaded","total","confirm","deleteImages","promises","all","timeOut","setSelected","getSelected","editImages","updateImages","updateImage","saved","BulkUploadService","logoutSuccess","editing","imageTemplate","checkEditing","resetImage","toggleEdition","store","getNamespacedStore","$http","API_URL","UserStore","userAuth","userLoggedIn","set","info","register","post","put","login","credentials","logout","getUser","getToken","fetchUser","updateUserInfo","storageUser","reset_password","returnToState","returnToStateParams","first_name","last_name","already_have_preview","build_onload_callback","hide_image_preview","is_valid_url","set_option","show_error","show_overlay","show_preview_image","term_is_url","toggle_fields","toggle_thumbnail_preview","update_form_action","upload_and_show_file","f","term","timeout","clearTimeout","activated_tab","tab","one","$previewImg","onError","keyup","ImageStore","cleanImageForUpdate","createImage","fileToImage","formatImageFields","imageData","tempImageModel","description","publication_date","creation_date","location","credit_byline","is_r_rated","is_rights_managed","is_royalty_free","model_release_info","property_release_info","plus_id","license_type_id","platform_business_rules","reference_file_path","keywords","creator","creator_name","site_url","licensing_rep","is_exclusive","is_active","created_at","licensing_rep_name","deferred","src","defer","resolve","promise","getOptionText","cleanValue","fields","keys","nulls","Object","getOptionId","Array","getImage","removeImage","hasImage","uploadTempImage","cleanImage","data2","originalImage","toState","toParams","fromState","fromParams","The image is untouched.","getResults","imageResults","matchModel","ImagePromise","origin","user_id","imageSelects","selects","select","found","Upload","imageModel","getGreeting","featured","isMissingInfo","missing","image_url","run","$log","$window","$location","crazyegg","initCrazyEgg","ga","path","$$childHead","prototype","t","splice","apply","concat","$stateProvider","$urlRouterProvider","state","hideUserPanel","defaults","default_values","reject","otherwise","request","responseError","jwtInterceptorProvider","$httpProvider","authHeader","authPrefix","tokenGetter","token","interceptors","MessageFormatter","container_class","error_message","constant","sessionTimeout","notAuthenticated","notAuthorized","admin","editor","guest","$logProvider","toastrConfig","debugEnabled","positionClass","progressBar","allowHtml","$templateCache"],"mappings":"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","file":"scripts/app-c0eeca634b.js","sourcesContent":["(function() {\n  angular.module('imagewikiFrontend', ['ngAnimate', 'toastr', 'ngResource', 'ui.router', 'angular-jwt', 'angular-loading-bar', 'angular-storage', 'ngFileUpload', 'ui.bootstrap.datetimepicker', 'angularUtils.directives.dirPagination', 'validation.match', 'vcRecaptcha', 'ngTagsInput', 'ng-crazyegg']);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").filter('fullTitle', function() {\n    return function(input) {\n      var base;\n      base = 'Imagewiki - Find Ownership information for Images';\n      return base + (input != null ? \" | \" + input : ' | The world\\'s photo content id database');\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('iwNavbar', function() {\n    var directive;\n    return directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      link: function(scope, element, attr) {\n        scope.toggleOpenMenu = function() {\n          element.find('.menu').find('a.menu-icon, .navigation').toggleClass('opened');\n        };\n      }\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('userPanel', function() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/user-panel/user-panel.html',\n      controller: 'LoginController',\n      controllerAs: 'userPanel',\n      bindToController: false\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('userInfo', function() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/user-panel/user-info.html'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('userForms', function() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/user-panel/user-forms.html'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  angular.module(\"imagewikiFrontend\").directive('imagesWall', [\n    '$compile', '$timeout', function($compile, $timeout) {\n      return {\n        restrict: 'E',\n        templateUrl: 'app/components/images-wall/images-wall.html',\n        scope: {\n          images: '=',\n          selector: '@',\n          selectable: '=?'\n        },\n        controller: function($scope, $element, $attrs, $transclude) {\n          $scope.selected = {};\n          $scope.page = 1;\n          $scope.isFirstPage = true;\n          $scope.isLastPage = false;\n          $scope.$on('UpdateTotalImages', function(event, args) {\n            if (args.totalImages < $scope.$parent.itemsPerPage) {\n              $scope.isLastPage = true;\n            } else {\n              $scope.isLastPage = false;\n            }\n          });\n          $scope.$on('ClearSelectedImages', function(event) {\n            $scope.selected = {};\n            $scope.$parent.selected = [];\n          });\n          $scope.changePage = function(newPageNumber) {\n            $scope.page = newPageNumber;\n            if (newPageNumber === 1) {\n              $scope.isFirstPage = true;\n            } else {\n              $scope.isFirstPage = false;\n            }\n            $scope.$emit('ChangeUserImagesPage', {\n              page: newPageNumber\n            });\n          };\n          $scope.selectImage = function(image) {\n            var id;\n            if ($scope.selectable === false) {\n              return false;\n            }\n            id = image.image_id;\n            if (indexOf.call($scope.$parent.selected, image) >= 0) {\n              $scope.selected[id] = false;\n              $scope.$parent.selected.remove(image);\n            } else {\n              $scope.selected[id] = true;\n              $scope.$parent.selected.push(image);\n            }\n          };\n          $scope[\"delete\"] = function(image) {\n            $scope.$parent[\"delete\"](image);\n          };\n        },\n        link: function(scope, element, attr) {\n          var galleryCreated, runGallery;\n          galleryCreated = false;\n          runGallery = function() {};\n          scope.$on('RestartGallery', function(event) {\n            scope.$emit('showToastrMessage', {\n              type: 'info',\n              message: 'The gallery is reloading after the changes.',\n              title: 'Loading Gallery',\n              options: {\n                closeButton: true,\n                closeHtml: '<i class=\"fa fa-refresh\"></i>'\n              }\n            });\n          });\n          scope.$on('ReloadGallery', function(event) {});\n          scope.$on('ImageLoaded', function(event) {});\n        }\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('MessageFormatter', function() {\n    var formatter;\n    formatter = {};\n    formatter.error = function(data) {\n      var error, msg;\n      error = angular.isString(data.error) ? angular.fromJson(data.error) : data.error;\n      msg = '';\n      angular.forEach(error, function(value, key) {\n        msg += \"<strong>\" + key + \"</strong>: \" + value;\n      });\n      return msg;\n    };\n    return formatter;\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('searchBlock', [\n    '$timeout', 'FileHandler', 'TempImageModel', function($timeout, FileHandler, TempImageModel) {\n      return {\n        restrict: 'E',\n        templateUrl: 'app/components/search-block/search-block.html',\n        controller: 'SearchBlockController',\n        controllerAs: 'searchBlock',\n        link: function(scope, element, attr) {\n          var hideTooltip, showTooltip;\n          element.find('.has-tooltip').tooltip({\n            trigger: 'manual',\n            placement: 'bottom'\n          });\n          scope.$on('showSearchTooltip', function() {\n            showTooltip();\n            return $timeout(function() {\n              hideTooltip();\n            }, 20000);\n          });\n          scope.$on('hideSearchTooltip', function() {\n            hideTooltip();\n          });\n          showTooltip = function() {\n            element.find('.has-tooltip').tooltip('show');\n          };\n          hideTooltip = function() {\n            element.find('.has-tooltip').tooltip('hide');\n          };\n          scope.$watch('url', function() {\n            if ((scope.url != null) && scope.url !== '' && FileHandler.isValidUrl(scope.url)) {\n              scope.searchImage(scope.url, null);\n            }\n          });\n          scope.$watch('image', function() {\n            if (scope.image != null) {\n              scope.searchImage(null, scope.image);\n            }\n          });\n          scope.searchImage = function(url, image) {\n            if (image != null) {\n              scope.upload(image);\n            } else if ((url != null) && url !== '' && FileHandler.isValidUrl(url)) {\n              scope.uploadUrl(url);\n            } else {\n              alert(\"Oops that's not an image url!\");\n            }\n          };\n          scope.setOption = function(option) {\n            scope.option = option;\n            if (option === 'upload') {\n              scope.url = null;\n            }\n          };\n          scope.previewImage = function(url) {\n            scope.image = null;\n            if (!$('#preview-image').length) {\n              return;\n            }\n            if (FileHandler.isValidUrl(url)) {\n              element.find('.form-group').removeClass('has-error');\n              scope.setPreviewUrl(url);\n            } else {\n              element.find('.form-group').addClass('has-error');\n              scope.setPreviewUrl('');\n            }\n          };\n        }\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"SearchBlockController\", [\n    '$scope', '$state', '$timeout', 'ImageModel', 'MatchModel', function($scope, $state, $timeout, ImageModel, MatchModel) {\n      var goToImage;\n      $scope.option = 'url';\n      goToImage = function(image_id) {\n        $state.go('image-ownership', {\n          hashid: image_id\n        });\n      };\n      $scope.uploadUrl = function(url) {\n        ImageModel.matchUrl(url).then(function(data) {\n          if (data.match_result === 'no match found') {\n            $scope.$emit('showToastrMessage', {\n              type: 'warning',\n              message: 'No match found.'\n            });\n          } else {\n            MatchModel.setResults(data.results);\n            $state.go('image-matches');\n          }\n        }, function() {});\n      };\n      $scope.upload = function(file) {\n        ImageModel.match(file).progress(function(evt) {}).success(function(data, status, headers, config) {\n          if (data.match_result === 'no match found') {\n            $scope.$emit('showToastrMessage', {\n              type: 'warning',\n              message: 'No match found.'\n            });\n          } else {\n            MatchModel.setResults(data.results);\n            $state.go('image-matches');\n          }\n        }).error(function(data, status, headers, config) {});\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('selectInput', function() {\n    return {\n      restrict: 'E',\n      scope: {\n        name: '=name',\n        field: '=field'\n      },\n      templateUrl: 'app/components/editable-field/select-input.html',\n      controller: 'SelectInputController',\n      controllerAs: 'selectInput'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"SelectInputController\", [\n    '$scope', '$element', '$attrs', 'ImageSelects', function($scope, $element, $attrs, ImageSelects) {\n      $scope.options = ImageSelects.getSelectOptions($scope.name);\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('PbrSelectModel', [\n    '$q', '$filter', function($q, $filter) {\n      var formatRule, optionRule, options, pbrSelectModel, platform, platformRule;\n      options = [\n        {\n          id: 'block',\n          text: 'Block'\n        }, {\n          id: 'allow',\n          text: 'Allow'\n        }, {\n          id: 'allow_w_attr',\n          text: 'Allow with Attribution'\n        }, {\n          id: 'ad_rev_share',\n          text: 'Ad Rev Share License'\n        }\n      ];\n      platform = function(name) {\n        return name.split('.')[1];\n      };\n      platformRule = function(rules, name) {\n        var formatedRule, i, key, len, quit, rule, value;\n        formatedRule = '';\n        quit = false;\n        for (i = 0, len = rules.length; i < len; i++) {\n          rule = rules[i];\n          for (key in rule) {\n            value = rule[key];\n            if (key === platform(name)) {\n              formatedRule = rule;\n              quit = true;\n            }\n          }\n          if (quit) {\n            break;\n          }\n        }\n        return formatedRule;\n      };\n      optionRule = function(name, rule) {\n        return $filter('filter')(options, {\n          id: rule[platform(name)]\n        })[0];\n      };\n      formatRule = function(name, value) {\n        var newRule;\n        newRule = {};\n        newRule[platform(name)] = value.id;\n        return newRule;\n      };\n      pbrSelectModel = {};\n      pbrSelectModel.options = options;\n      pbrSelectModel.notChanged = function(name, initial, model) {\n        return angular.equals(initial, pbrSelectModel.formatInitialValue(name, model));\n      };\n      pbrSelectModel.formatInitialValue = function(name, value) {\n        var formated, rule;\n        if (value === null) {\n          return {\n            id: '',\n            text: ''\n          };\n        }\n        rule = platformRule(value, name);\n        formated = optionRule(name, rule);\n        return formated;\n      };\n      pbrSelectModel.formatValue = function(name, value, originalValue) {\n        var i, k, len, newRules, rule, v;\n        newRules = [];\n        if (originalValue === null) {\n          originalValue = [];\n        }\n        if (originalValue.length === 0) {\n          newRules.push(formatRule(name, value));\n        } else {\n          for (i = 0, len = originalValue.length; i < len; i++) {\n            rule = originalValue[i];\n            for (k in rule) {\n              v = rule[k];\n              if (k === platform(name)) {\n                newRules.push(formatRule(name, value));\n              } else {\n                newRules.push(rule);\n              }\n            }\n          }\n        }\n        return newRules;\n      };\n      pbrSelectModel.formatLabel = function(name, value) {\n        var rule;\n        if (value.id != null) {\n          rule = value;\n        } else {\n          rule = pbrSelectModel.formatInitialValue(name, value);\n        }\n        return rule.text;\n      };\n      return pbrSelectModel;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('pbrSelect', function() {\n    return {\n      restrict: 'E',\n      scope: {\n        name: '=name',\n        field: '=field'\n      },\n      templateUrl: 'app/components/editable-field/pbr-select.html',\n      controller: 'PbrSelectController',\n      controllerAs: 'pbrSelect'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"PbrSelectController\", [\n    '$scope', '$element', '$attrs', 'PbrSelectModel', function($scope, $element, $attrs, PbrSelectModel) {\n      $scope.options = PbrSelectModel.options;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('editableField', function() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/components/editable-field/editable-field.html',\n      scope: {\n        ngModel: '=',\n        type: '=type',\n        name: '=name',\n        block: '=?block'\n      },\n      controller: 'EditableFieldController',\n      controllerAs: 'editableField',\n      link: function(scope, element, attr) {\n        if (scope.block !== 'div') {\n          element.find('.add-edit-block').wrap(\"<\" + scope.block + \"></\" + scope.block + \">\");\n        }\n      }\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"EditableFieldController\", [\n    '$scope', '$element', '$attrs', 'EditableFieldFactory', function($scope, $element, $attrs, EditableFieldFactory) {\n      var initial, ref, showLabel;\n      $scope.block = $scope.block || 'div';\n      $scope.textInput = (ref = $scope.type) === 'text' || ref === 'password' || ref === 'email';\n      if ($scope.type === 'date') {\n        $scope.datepicker_name = $scope.name + \"-datepicker\";\n      }\n      $scope.label = EditableFieldFactory.formatLabel($scope.type, $scope.name, $scope.ngModel);\n      initial = EditableFieldFactory.formatInitialValue($scope.name, angular.copy($scope.ngModel));\n      $scope.value = {\n        initial: initial\n      };\n      if ($scope.type === 'array') {\n        $scope.value.tags = $.unique(angular.copy(initial));\n      }\n      $scope.$watch('value.initial', function() {\n        if (EditableFieldFactory.notChanged($scope.name, $scope.value.initial, $scope.ngModel)) {\n          return false;\n        }\n        $scope.ngModel = EditableFieldFactory.formatValue($scope.name, angular.copy($scope.value.initial), $scope.ngModel);\n        $scope.label = EditableFieldFactory.formatLabel($scope.type, $scope.name, $scope.value.initial);\n        $scope.$emit('imageChanged');\n      });\n      $scope.$on('beginImageEdition', function(event, edit) {\n        if (edit) {\n          $scope.showEdit();\n        } else {\n          showLabel();\n        }\n      });\n      $scope.updateTags = function($tag) {\n        var tags;\n        tags = [];\n        angular.forEach($scope.value.tags, function(value, key) {\n          tags.push(value.text);\n        });\n        $scope.value.initial = tags;\n      };\n      $scope.onTimeSet = function(newDate, oldDate) {\n        $scope.value.initial = moment(newDate).format('YYYY/MM/DD');\n      };\n      $scope.showField = $scope.$parent.showFields || false;\n      $scope.showEdit = function() {\n        $scope.showField = true;\n      };\n      showLabel = function() {\n        $scope.showField = false;\n      };\n      $scope.cancelEdit = function() {\n        $scope.value = {\n          initial: angular.copy($scope.ngModel)\n        };\n        $scope.label = EditableFieldFactory.formatLabel($scope.type, $scope.name, $scope.value.initial);\n        $scope.$broadcast('cancelEdit');\n        showLabel();\n      };\n      $scope.saveEdit = function() {\n        showLabel();\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('EditableFieldFactory', [\n    '$filter', 'ImageSelects', 'PbrSelectModel', function($filter, ImageSelects, PbrSelectModel) {\n      var cleanArray, editableFieldFactory;\n      editableFieldFactory = {};\n      cleanArray = function(value) {\n        return value.filter(function(v) {\n          return v !== null;\n        });\n      };\n      editableFieldFactory.notChanged = function(name, initial, model) {\n        switch (name) {\n          case 'license_type_id':\n            if (initial == null) {\n              return true;\n            }\n            return angular.equals(initial.text, model);\n          case 'platform_business_rules.all':\n            return PbrSelectModel.notChanged(name, initial, model);\n          case 'keywords':\n            return angular.equals(initial, cleanArray(model));\n          default:\n            return angular.equals(initial, model);\n        }\n      };\n      editableFieldFactory.formatInitialValue = function(name, value) {\n        var values;\n        switch (name) {\n          case 'license_type_id':\n            values = ImageSelects.getSelectOptions(name);\n            return $filter('filter')(values, {\n              text: value\n            })[0];\n          case 'platform_business_rules.all':\n            return PbrSelectModel.formatInitialValue(name, value);\n          case 'keywords':\n            return cleanArray(value);\n          default:\n            return value;\n        }\n      };\n      editableFieldFactory.formatValue = function(name, value, originalValue) {\n        if (value == null) {\n          return '';\n        }\n        switch (name) {\n          case 'license_type_id':\n            return value.id;\n          case 'platform_business_rules.all':\n            return PbrSelectModel.formatValue(name, value, originalValue);\n          default:\n            return value;\n        }\n      };\n      editableFieldFactory.formatLabel = function(type, name, value) {\n        if (value == null) {\n          return '';\n        }\n        if (name === 'license_type_id') {\n          if (angular.isObject(value)) {\n            return value.text;\n          } else {\n            return value;\n          }\n        }\n        if (name === 'platform_business_rules.all') {\n          return PbrSelectModel.formatLabel(name, value);\n        }\n        switch (type) {\n          case 'boolean':\n            if (value) {\n              return 'YES';\n            } else {\n              return 'NO';\n            }\n            break;\n          case 'date':\n            return moment(value).format('DD/MM/YYYY');\n          case 'array':\n            return value.join(', ');\n          default:\n            return value;\n        }\n      };\n      return editableFieldFactory;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('booleanInput', function() {\n    return {\n      restrict: 'E',\n      scope: {\n        name: '=name',\n        field: '=field'\n      },\n      templateUrl: 'app/components/editable-field/boolean-input.html'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('FileHandler', [\n    '$timeout', function($timeout) {\n      var fileHandler;\n      fileHandler = {};\n      fileHandler.filePreviewUrl = function(file, callback) {\n        var reader, url;\n        reader = new FileReader();\n        url = '';\n        reader.onload = function(e) {\n          $timeout(function() {\n            callback(e.target.result);\n          });\n        };\n        reader.readAsDataURL(file);\n      };\n      fileHandler.isValidUrl = function(url) {\n        return /^.+\\.(jpg|gif|png)/.test(url);\n      };\n      return fileHandler;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('iwContextMenu', function() {\n    var directive;\n    return directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/context-menu/context-menu.html'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('imageViolation', [\n    '$compile', '$timeout', 'ImageModel', 'vcRecaptchaService', function($compile, $timeout, ImageModel, vcRecaptchaService) {\n      return {\n        restrict: 'E',\n        templateUrl: 'app/components/image-violation/image-violation.html',\n        scope: {\n          imageId: '='\n        },\n        controller: function($scope, $element, $attrs, $transclude) {\n          var resetViolation;\n          $scope.visible = false;\n          $scope.violation = {\n            reporter_user_id: null,\n            violation_comments: null,\n            violation_reason_id: null\n          };\n          $scope.response = null;\n          $scope.widgetId = null;\n          $scope.model = {\n            key: '6LfZSxITAAAAAAbbOq-2PrbETzWZVbnjOIOJOy_E'\n          };\n          if ($scope.$parent.$parent.currentUser) {\n            $scope.violation['reporter_user_id'] = $scope.$parent.$parent.currentUser.id;\n          }\n          $scope.setResponse = function(response) {\n            $scope.response = response;\n          };\n          $scope.setWidgetId = function(widgetId) {\n            $scope.widgetId = widgetId;\n          };\n          $scope.cbExpiration = function() {\n            $scope.response = null;\n          };\n          $scope.reportViolation = function(violation) {\n            if (violation.violation_reason_id === null || violation.violation_reason_id === '') {\n              $scope.$emit('showToastrMessage', {\n                type: 'error',\n                message: 'You need to select a reason.',\n                title: 'Error'\n              });\n              return false;\n            }\n            if ($scope.response === null) {\n              $scope.$emit('showToastrMessage', {\n                type: 'error',\n                message: 'Please check the recaptcha.',\n                title: 'Are your a robot?'\n              });\n              return false;\n            }\n            ImageModel.reportViolation($scope.imageId, violation).then(function(data) {\n              $scope.$emit('showToastrMessage', {\n                type: 'success',\n                message: data.message,\n                title: 'Success'\n              });\n              resetViolation();\n            }, function() {\n              $scope.$emit('showToastrMessage', {\n                type: 'error',\n                message: data.message,\n                title: 'Error'\n              });\n              resetViolation();\n            });\n          };\n          resetViolation = function() {\n            $scope.visible = false;\n            $scope.violation['violation_comments'] = null;\n            $scope.violation['violation_reason_id'] = null;\n          };\n        },\n        link: function(scope, element, attr) {\n          element.find('[data-toggle=\"tooltip\"]').tooltip();\n        }\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"UserDefaultController\", [\n    '$scope', '$rootScope', '$state', 'UserAuth', 'UserDefaultsPromise', function($scope, $rootScope, $state, UserAuth, UserDefaultsPromise) {\n      if (!UserAuth.isAuthenticated) {\n        $rootScope.$broadcast('showToastrMessage', {\n          type: 'error',\n          message: 'You are not logged in',\n          title: 'Unauthorized'\n        });\n        $state.go('home');\n      }\n      $scope.userDefaults = UserDefaultsPromise;\n      $scope.showFields = true;\n      $scope.updateUserDefaults = function(userDefaults) {\n        var id;\n        if ($scope.userDefaultForm.$pristine) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'info',\n            message: 'No changes made.'\n          });\n          return false;\n        }\n        id = $scope.$parent.currentUser.id;\n        UserAuth.update(id, userDefaults).then(function(response) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'success',\n            message: 'Your default values were successfully updated.',\n            title: 'User defaults changed.'\n          });\n        }, function(response) {\n          $rootScope.$broadcast('UserUpdateFail', response);\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'success',\n            message: \"\" + response.data.error,\n            title: 'User update error.'\n          });\n        });\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"ProfileEditController\", [\n    '$scope', '$rootScope', '$state', 'UserAuth', function($scope, $rootScope, $state, UserAuth) {\n      if (!UserAuth.isAuthenticated) {\n        $rootScope.$broadcast('showToastrMessage', {\n          type: 'error',\n          message: 'You are not logged in',\n          title: 'Unauthorized'\n        });\n        $state.go('home');\n      }\n      $scope.user = angular.copy($scope.$parent.currentUser);\n      $scope.update = function(user) {\n        var id;\n        if ($scope.profileEditForm.$pristine) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'info',\n            message: 'No changes made.'\n          });\n          return false;\n        }\n        id = $scope.$parent.currentUser.id;\n        UserAuth.update(id, user).then(function(response) {\n          $scope.$parent.setCurrentUser($.extend($scope.$parent.currentUser, user));\n          $rootScope.$broadcast('UserUpdateSuccess');\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'success',\n            message: 'Your info was successfully updated.',\n            title: 'User info changed.'\n          });\n        }, function(response) {\n          $rootScope.$broadcast('UserUpdateFail', response);\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: \"\" + response.data.error,\n            title: 'User update error.'\n          });\n        });\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"PasswordResetController\", [\n    '$scope', '$rootScope', '$state', '$stateParams', 'UserAuth', 'AUTH_EVENTS', function($scope, $rootScope, $state, $stateParams, UserAuth, AUTH_EVENTS) {\n      var userLoginFail, userLoginSuccess;\n      $scope.user = {};\n      userLoginSuccess = function(user) {\n        if (user.error) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: user.error,\n            title: 'Error'\n          });\n        } else {\n          $rootScope.$broadcast(AUTH_EVENTS.loginSuccess);\n          $scope.setCurrentUser(user);\n          $state.go('home');\n        }\n      };\n      userLoginFail = function(reason) {\n        $rootScope.$broadcast(AUTH_EVENTS.loginFailed, reason.data);\n      };\n      $scope.resetPassword = function(user) {\n        if (user.password === null || user.password === '' || user.password_confirmation === null || user.password_confirmation === '') {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: 'You need to include the new password.',\n            title: 'Error'\n          });\n          return false;\n        }\n        user.reset_password_token = $stateParams.reset_password_token;\n        UserAuth.resetPassword(user).then(userLoginSuccess, userLoginFail);\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"PasswordRecoveryController\", [\n    '$scope', '$rootScope', '$state', 'UserAuth', function($scope, $rootScope, $state, UserAuth) {\n      $scope.user = {\n        email: null\n      };\n      $scope.recover = function(user) {\n        if (user.email === null || user.email === '') {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: 'You need to include your email.',\n            title: 'Error'\n          });\n          return false;\n        }\n        UserAuth.recoverPassword(user).then(function(data) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'success',\n            message: data.message,\n            title: 'Check your email'\n          });\n        }, function() {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: data.message,\n            title: 'Something went wrong'\n          });\n        });\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n\n/* LOADING FUNCTIONS */\n\n(function() {\n  var get_params, start_loading, stop_loading, toasty;\n\n  start_loading = function() {\n    $('.la-anim-10').addClass('la-animate');\n  };\n\n  stop_loading = function() {\n    $('.la-anim-10').removeClass('la-animate');\n  };\n\n  toasty = function() {\n    $('.toasty').addClass('show');\n    $('#toasty-sound')[0].play();\n    setTimeout((function() {\n      $('.toasty').removeClass('show');\n    }), 1000);\n  };\n\n  get_params = function($toggle, $field, multiple_images) {\n    var $image_data, field, model, params, relation, relation_id, value;\n    $image_data = $('#info_image');\n    params = {\n      authenticity_token: $('input[name=\"authenticity_token\"]').val()\n    };\n    if (typeof multiple_images === 'undefined') {\n      params['id'] = $image_data.data('id');\n    } else {\n      params['ids'] = $('#image_ids').val();\n    }\n    model = $image_data.data('model');\n    field = $toggle.data('field');\n    value = $field.val();\n    params[model] = {};\n    if ($toggle.data('relation')) {\n      relation = $toggle.data('relation') + '_attributes';\n      relation_id = $('#' + model.toLowerCase() + '_' + relation + '_id:hidden').val();\n      params[model][relation] = {\n        id: relation_id\n      };\n      params[model][relation][field] = value;\n    } else {\n      params[model][field] = value;\n    }\n    return params;\n  };\n\n  $(document).ready(function() {\n    $(document).on('click', '.add-image-direct', function() {\n      var $form;\n      $('#frm_direct_image_creation').remove();\n      $form = $('<form id=\"frm_direct_image_creation\" action=\"/create-image\" method=\"post\" enctype=\"multipart/form-data\" style=\"display: none\"></form>');\n      $form.append('<input type=\"file\" name=\"image[file]\" />');\n      $form.appendTo('body');\n      $form.find('input').click();\n      $form.find('input').change(function() {\n        $form.submit();\n      });\n    });\n    $('[data-toggle=\"modal\"]').click(function(e) {\n      var url;\n      e.preventDefault();\n      url = $(this).attr('href');\n      if (url.indexOf('#') === 0) {\n        $(url).modal('open');\n      } else {\n        $.get(url, function(data) {\n          var $modal;\n          $modal = $('#modal-container');\n          $modal.find('.modal-content').html(data);\n          $modal.modal();\n        }).success(function() {\n          $('#modal-container').find('input:text:visible:first').focus();\n        });\n      }\n    });\n    $('.ownership-list .field-cancel, .ownership-list .field-save').click(function() {\n      $(this).parents('.add-edit-container').find('.add-edit-toggle').show();\n    });\n    $('.ownership-list span.add-edit-toggle').click(function() {\n      $(this).hide();\n    });\n    cheet('t o a s t y', function() {\n      toasty();\n    });\n    $('.glyphicon.glyphicon-camera.icon-camera.browse-your-files').on('click', function() {\n      var action;\n      action = $('a.browse-your-files.file-placeholder').data('path');\n      $('form#new_search').attr('action', action);\n    });\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"MainController\", [\n    '$scope', '$state', 'ImageModel', 'TempImageModel', function($scope, $state, ImageModel, TempImageModel) {\n      var setRandomImage;\n      setRandomImage = function() {\n        var images;\n        images = $scope.featuredCollection.collection_images;\n        $scope.featuredImage = images[Math.floor(Math.random() * images.length)];\n      };\n      $scope.featuredCollection = {\n        collection_id: '',\n        collection_images: []\n      };\n      $scope.$parent.$broadcast('hideSearchTooltip');\n      ImageModel.getFeaturedImage().then(function(collection) {\n        $scope.featuredCollection = collection;\n      }, function(response) {\n        $scope.featuredCollection = {\n          collection_id: 'fake',\n          collection_images: []\n        };\n      })[\"finally\"](setRandomImage);\n      $scope.reloadFeatured = function() {\n        setRandomImage();\n      };\n      $scope.openSignUpForm = function() {\n        $(window).scrollTop(0);\n        $scope.$parent.$broadcast('showSignUpForm');\n      };\n      $scope.$watch('file', function() {\n        if ($scope.file != null) {\n          TempImageModel.isTempImage = true;\n          $scope.homeUpload($scope.file);\n        }\n      });\n      $scope.homeUpload = function(file) {\n        var image;\n        if ($scope.currentUser === null) {\n          $scope.$emit('showToastrMessage', {\n            type: 'error',\n            message: 'You must <strong>create an account</strong> or <strong>log in</strong> to save this image.'\n          });\n          image = TempImageModel.addImage(file);\n          $state.go('temporary-image', {\n            hashid: image.image_id\n          });\n        } else {\n          ImageModel.upload(file).progress(function(evt) {}).success(function(data, status, headers, config) {\n            $state.go('image-ownership', {\n              hashid: data.image_id\n            });\n          }).error(function(data, status, headers, config) {});\n        }\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"StaticPagesController\", [\n    '$scope', '$state', 'toastr', function($scope, $state, toastr) {\n      var ref;\n      if ((ref = $state.current.name) === 'image-identification' || ref === 'add-images') {\n        $scope.$emit('fluidContainer');\n      }\n      $scope.openSignUpForm = function() {\n        $(window).scrollTop(0);\n        $scope.$parent.$broadcast('showSignUpForm');\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").directive('uploadingFiles', function() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/bulk-upload/uploading-files.html',\n      scope: {\n        files: '=',\n        selector: '@'\n      },\n      controller: function($scope, $element, $attrs, $transclude) {},\n      link: function(scope, element, attr) {\n        var loadedFiles, runGallery;\n        loadedFiles = 0;\n        runGallery = function() {\n          $(\"#\" + scope.selector).justifiedGallery({\n            rowHeight: 200,\n            margins: 3\n          });\n        };\n        scope.$on('FilesChanged', function(event) {\n          loadedFiles = 0;\n        });\n        scope.$on('FileLoaded', function(event) {\n          loadedFiles++;\n          if (loadedFiles === scope.files.length) {\n            $('.image', element).addClass('loaded');\n            runGallery();\n          }\n        });\n      }\n    };\n  }).directive('lastFile', function() {\n    return {\n      restrict: 'A',\n      link: function(scope, element, attr) {\n        $('img', element).load(function() {\n          scope.$emit('FileLoaded', {\n            image: $(this),\n            last: scope.$last\n          });\n        });\n      }\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").service('BulkUploadService', [\n    '$rootScope', '$timeout', '$state', '$q', 'ImageModel', function($rootScope, $timeout, $state, $q, ImageModel) {\n      var bulkUpload, hasImagesSelected, selected;\n      selected = {};\n      bulkUpload = {};\n      hasImagesSelected = function(images) {\n        if (images.length === 0) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: 'No images were selected',\n            title: 'Error'\n          });\n          return false;\n        } else {\n          return true;\n        }\n      };\n      bulkUpload.getImages = function($scope, page) {\n        ImageModel.getUserImages(page).then(function(data) {\n          $scope.images = data.user_images;\n          if ($scope.images.length > 0) {\n            $rootScope.$broadcast('UpdateTotalImages', {\n              totalImages: $scope.images.length\n            });\n          }\n        }, function() {\n          $scope.images = [];\n        });\n      };\n      bulkUpload.upload = function($scope) {\n        if ($scope.files !== null && $scope.files.length > 0) {\n          $rootScope.$broadcast('UpdateTotalImages', {\n            totalImages: $scope.files.length\n          });\n        }\n        angular.forEach($scope.files, function(file, index, context) {\n          index = index + 1;\n          file.aborted = false;\n          file.progress = 0;\n          file.upload = ImageModel.upload(file);\n          file.upload.then(function(res) {\n            var data;\n            data = res.data;\n            $scope.images.push(data);\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'success',\n              message: \"Image successfully uploaded:<br><strong>\" + data.title + \"</strong>\",\n              title: 'Success'\n            });\n            $scope.files.remove(file);\n            if (context.length === 0) {\n              $rootScope.$broadcast('ReloadGallery', {});\n            }\n          }, function(res) {\n            if (file.aborted) {\n              $rootScope.$broadcast('showToastrMessage', {\n                type: 'error',\n                message: file.name + \" upload was aborted!\",\n                title: 'Abort!'\n              });\n            } else {\n              $rootScope.$broadcast('showToastrMessage', {\n                type: 'error',\n                message: \"Something went wrong while uploading the file: <strong>\" + file.name + \"</strong>.\",\n                title: 'Error'\n              });\n            }\n            $scope.files.remove(file);\n          }, function(evt) {\n            var progress;\n            progress = evt.loaded * 100 / evt.total;\n            file.progress = progress;\n          });\n        });\n      };\n      bulkUpload[\"delete\"] = function($scope, image) {\n        if (confirm('Are you sure you want to delete this image?')) {\n          ImageModel[\"delete\"](image.image_id).then(function(data) {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'warning',\n              message: data.message\n            });\n            $scope.images.remove(image);\n            $rootScope.$broadcast('RestartGallery');\n          }, function() {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'error',\n              message: 'Something went wrong... Please contact our support.'\n            });\n          });\n        }\n      };\n      bulkUpload.deleteImages = function($scope) {\n        var images, promises;\n        images = $scope.selected;\n        if (!hasImagesSelected(images)) {\n          return false;\n        }\n        if (confirm(\"Are you sure you want to delete all \" + images.length + \" selected images?\")) {\n          promises = [];\n          angular.forEach($scope.selected, function(image, index) {\n            promises.push(ImageModel[\"delete\"](image.image_id));\n          });\n          $q.all(promises).then(function(data) {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'warning',\n              message: 'All images were deleted',\n              title: 'Warning'\n            });\n            angular.forEach($scope.selected, function(image, index) {\n              $scope.images.remove(image);\n              $scope.selected.remove(image);\n            });\n            $rootScope.$broadcast('RestartGallery');\n            $rootScope.$broadcast('ClearSelectedImages');\n          }, function() {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'error',\n              message: 'Something went wrong... Please contact our support.',\n              options: {\n                closeButton: true,\n                timeOut: 0\n              }\n            });\n          });\n        }\n      };\n      bulkUpload.setSelected = function(images) {\n        selected = images;\n      };\n      bulkUpload.getSelected = function() {\n        return selected;\n      };\n      bulkUpload.editImages = function(images) {\n        if (!hasImagesSelected(images)) {\n          return false;\n        }\n        bulkUpload.setSelected(images);\n        $state.go('bulk-edit');\n      };\n      bulkUpload.updateImages = function($scope, image) {\n        var promises;\n        promises = [];\n        angular.forEach($scope.images, function(value, key) {\n          image.image_id = value.image_id;\n          promises.push(ImageModel.updateImage(image));\n        });\n        $q.all(promises).then(function(data) {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'success',\n            message: 'All images were updated',\n            title: 'Warning'\n          });\n          $scope.saved = true;\n        }, function() {\n          $rootScope.$broadcast('showToastrMessage', {\n            type: 'error',\n            message: 'Something went wrong... Please contact our support.',\n            options: {\n              closeButton: true,\n              timeOut: 0\n            }\n          });\n        });\n      };\n      return bulkUpload;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"BulkUploadController\", [\n    '$scope', 'BulkUploadService', 'AUTH_EVENTS', function($scope, BulkUploadService, AUTH_EVENTS) {\n      $scope.$emit('fluidContainer');\n      $scope.files = [];\n      $scope.images = [];\n      $scope.selected = [];\n      $scope.itemsPerPage = 50;\n      $scope.getImages = function(page) {\n        BulkUploadService.getImages($scope, page);\n      };\n      if ($scope.isAuthenticated()) {\n        $scope.getImages(1);\n      }\n      $scope.$on(AUTH_EVENTS.loginSuccess, function(event, data) {\n        $scope.getImages(1);\n      });\n      $scope.$on(AUTH_EVENTS.logoutSuccess, function(event, data) {\n        $scope.images = [];\n      });\n      $scope.$on('ChangeUserImagesPage', function(event, args) {\n        $scope.images = [];\n        $scope.getImages(args.page);\n      });\n      $scope.$watch('files', function() {\n        $scope.upload();\n      });\n      $scope.upload = function() {\n        BulkUploadService.upload($scope);\n      };\n      $scope[\"delete\"] = function(image) {\n        BulkUploadService[\"delete\"]($scope, image);\n      };\n      $scope.deleteImages = function() {\n        BulkUploadService.deleteImages($scope);\n      };\n      $scope.editImages = function() {\n        BulkUploadService.editImages($scope.selected);\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"BulkEditController\", [\n    '$scope', '$state', '$timeout', 'BulkUploadService', 'TempImageModel', 'AUTH_EVENTS', function($scope, $state, $timeout, BulkUploadService, TempImageModel, AUTH_EVENTS) {\n      $scope.$emit('fluidContainer');\n      $scope.editing = true;\n      $scope.image = TempImageModel.imageTemplate;\n      $scope.images = BulkUploadService.getSelected();\n      $scope.saved = true;\n      $scope.$on(AUTH_EVENTS.logoutSuccess, function(event) {\n        $state.go('home');\n      });\n      $scope.checkEditing = function() {\n        $timeout(function() {\n          $scope.$broadcast('beginImageEdition', true);\n        }, 100);\n      };\n      $scope.$on('imageChanged', function() {\n        $scope.saved = false;\n      });\n      $scope.resetImage = function() {\n        $scope.image = TempImageModel.imageTemplate;\n        $scope.saved = true;\n      };\n      $scope.toggleEdition = function() {\n        $scope.editing = !$scope.editing;\n        $scope.$broadcast('beginImageEdition', $scope.editing);\n      };\n      $scope.updateImage = function(image) {\n        BulkUploadService.updateImages($scope, image);\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('UserStore', [\n    'store', function(store) {\n      return store.getNamespacedStore('user');\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('UserAuth', [\n    '$http', 'API_URL', 'UserStore', function($http, API_URL, UserStore) {\n      var userAuth, userLoggedIn;\n      userAuth = {};\n      userLoggedIn = function(res) {\n        if (res.data.error) {\n          return res.data;\n        }\n        UserStore.set('token', res.data);\n        return {\n          success: true\n        };\n      };\n      userAuth.info = function() {\n        return $http.get(API_URL + \"/user\").then(function(res) {\n          UserStore.set('user', res.data);\n          return res.data;\n        });\n      };\n      userAuth.register = function(user) {\n        return $http.post(API_URL + \"/users\", user).then(userLoggedIn);\n      };\n      userAuth.update = function(id, user) {\n        return $http.put(API_URL + \"/users/\" + id, user).then(function(res) {\n          return res.data;\n        });\n      };\n      userAuth.login = function(credentials) {\n        return $http.post(API_URL + \"/auth\", credentials).then(userLoggedIn);\n      };\n      userAuth.logout = function() {\n        UserStore.remove('user');\n        UserStore.remove('token');\n      };\n      userAuth.isAuthenticated = function() {\n        return UserStore.get('token') != null;\n      };\n      userAuth.getUser = function() {\n        return UserStore.get('user') || null;\n      };\n      userAuth.getToken = function() {\n        return UserStore.get('token') || null;\n      };\n      userAuth.fetchUser = function(id) {\n        return $http.get(API_URL + \"/users/\" + id).then(function(res) {\n          return res;\n        });\n      };\n      userAuth.userDefaults = function(id) {\n        return $http.get(API_URL + \"/users/\" + id + \"/default_values\").then(function(res) {\n          return res;\n        });\n      };\n      userAuth.updateUserInfo = function(user) {\n        var storageUser;\n        storageUser = UserStore.get('user');\n        angular.forEach(user, function(value, key) {\n          storageUser[key] = value;\n        });\n        UserStore.set('user', storageUser);\n      };\n      userAuth.recoverPassword = function(user) {\n        return $http.post(API_URL + \"/users/password-recovery\", user).then(function(res) {\n          return res.data;\n        });\n      };\n      userAuth.resetPassword = function(reset_password) {\n        return $http.post(API_URL + \"/users/reset-password\", reset_password).then(userLoggedIn);\n      };\n      return userAuth;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"LogoutController\", [\n    '$scope', '$state', 'UserAuth', function($scope, $state, UserAuth) {\n      UserAuth.logout();\n      $rootScope.$broadcast(AUTH_EVENTS.logoutSuccess);\n      $scope.setCurrentUser(null);\n      $state.go('home');\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"LoginController\", [\n    '$scope', '$rootScope', '$state', 'AUTH_EVENTS', 'UserAuth', function($scope, $rootScope, $state, AUTH_EVENTS, UserAuth) {\n      var userLoginFail, userLoginSuccess;\n      userLoginSuccess = function(data) {\n        if (data.error) {\n          $rootScope.$broadcast(AUTH_EVENTS.loginFailed, data);\n        } else {\n          UserAuth.info().then(function(user) {\n            $scope.setCurrentUser(user);\n            $rootScope.$broadcast(AUTH_EVENTS.loginSuccess);\n          }, function(res) {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'error',\n              message: res.data\n            });\n          });\n          if ($state.current.name === 'login') {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'success',\n              message: 'You will be redirect to previous page now.'\n            });\n            $state.go($rootScope.returnToState, $rootScope.returnToStateParams);\n          }\n        }\n      };\n      userLoginFail = function(reason) {\n        $rootScope.$broadcast(AUTH_EVENTS.loginFailed, reason.data);\n      };\n      $scope.credentials = {\n        email: '',\n        password: ''\n      };\n      $scope.user = {\n        first_name: '',\n        last_name: '',\n        email: '',\n        password: '',\n        password_confirmation: ''\n      };\n      $scope.register = function(user) {\n        UserAuth.register(user).then(userLoginSuccess, userLoginFail);\n      };\n      $scope.login = function(credentials) {\n        UserAuth.login(credentials).then(userLoginSuccess, userLoginFail);\n      };\n      $scope.logout = function() {\n        UserAuth.logout();\n        $rootScope.$broadcast(AUTH_EVENTS.logoutSuccess);\n        $scope.setCurrentUser(null);\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  var already_have_preview, build_onload_callback, hide_image_preview, is_valid_url, set_option, show_error, show_overlay, show_preview_image, term_is_url, toggle_fields, toggle_thumbnail_preview, update_form_action, upload_and_show_file;\n\n  upload_and_show_file = function(element, event) {\n    var f, files, i, reader;\n    if (event.target.files.length === 0) {\n      hide_image_preview();\n      return;\n    }\n    $('#search_description').hide();\n    element.show();\n    show_overlay();\n    if (typeof FileReader === 'undefined') {\n      return true;\n    }\n    files = event.target.files;\n    f = void 0;\n    i = 0;\n    while (i < files.length) {\n      f = files[i];\n      if (f.type.match('image.*')) {\n        reader = new FileReader;\n        reader.onload = build_onload_callback();\n        reader.readAsDataURL(f);\n      }\n      i++;\n    }\n  };\n\n  build_onload_callback = function() {\n    return function(e) {\n      var image;\n      image = e.target.result;\n      show_preview_image(image);\n      $('#image-url').val('');\n    };\n  };\n\n  show_overlay = function() {\n    $('.search-block .field .bg-overlay').show();\n  };\n\n  toggle_thumbnail_preview = function(field) {\n    var term, timeout;\n    timeout = void 0;\n    term = $(field).val();\n    if (term_is_url(term)) {\n      set_option('#search_url');\n    } else {\n      set_option('#search_description');\n      return;\n    }\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n    if (is_valid_url(term)) {\n      if (already_have_preview(term)) {\n        return false;\n      }\n      show_error(true);\n      show_overlay();\n      timeout = setTimeout((function() {\n        show_preview_image(term);\n        timeout = null;\n      }), 1000);\n    } else {\n      hide_image_preview();\n      show_error(false);\n    }\n  };\n\n  show_error = function(show) {\n    if (show) {\n      $('.search-block .image-upload-error').addClass('hidden');\n      $('.search-block .field').removeClass('has-error');\n    } else {\n      $('.search-block .image-upload-error').removeClass('hidden');\n      $('.search-block .field').addClass('has-error');\n    }\n  };\n\n  set_option = function(activated_tab) {\n    toggle_fields(activated_tab);\n    update_form_action();\n    $('a[href=\"' + activated_tab + '\"]').tab('show');\n    if (activated_tab === '#search_description') {\n      $('#search_description').attr('name', 'search[description]');\n      $('.search-block .image-upload-error').addClass('hidden');\n      $('.search-block .field').removeClass('has-error');\n      $('.search-block .image-preview').removeClass('fadeInDown').addClass('fadeOutUp').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {\n        $(this).remove();\n      });\n    } else if (activated_tab === '#search_url') {\n      $('#search_description').attr('name', 'search[url]');\n    }\n  };\n\n  toggle_fields = function(tab) {\n    if (tab === '#search_description' || tab === '#search_url') {\n      $('#search_description').show();\n      $('#search_file').hide().val('');\n    } else {\n      $('#search_description').hide().val('');\n      $('#search_file').show();\n    }\n  };\n\n  update_form_action = function() {\n    $('#new_search').attr('action', $('.home-tabs li.active a').data('path'));\n  };\n\n  term_is_url = function(term) {\n    return is_valid_url(term);\n  };\n\n  is_valid_url = function(url) {\n    return url.match(/^.+\\.(jpg|gif|png)/);\n  };\n\n  show_preview_image = function(url) {\n    var $previewImg, onError;\n    $('.search-block .field .image-preview').remove();\n    $previewImg = $('<img onload=\"$(\\'.search-block .field .bg-overlay\\').hide();\" class=\"image-preview animated fadeInDown\" />');\n    onError = '\"$(\\'.search-block .field .bg-overlay\\').hide();';\n    onError += '$(this).removeClass(\\'fadeInDown\\').addClass(\\'flash\\').attr(\\'src\\', \\'/assets/imageNotFound400.jpg\\')\"';\n    $previewImg.attr('onerror', onError);\n    $('.search-block .field').append($previewImg);\n    if (!/^https?/.test(url) && !/^data\\:image/.test(url)) {\n      url = 'http://' + url;\n    }\n    $previewImg.attr('src', url);\n  };\n\n  already_have_preview = function(url) {\n    return $('.image-preview').attr('src') === url;\n  };\n\n  hide_image_preview = function() {\n    $('.search-block .image-preview').removeClass('fadeInDown').addClass('fadeOutUp').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {\n      $(this).remove();\n    });\n  };\n\n  $(document).ready(function() {\n    $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function(e) {\n      var activated_tab;\n      activated_tab = $(e.target).attr('href');\n      set_option(activated_tab);\n    });\n    $('#search_description').keyup(function() {\n      toggle_thumbnail_preview(this);\n    });\n    $('.browse-your-files').click(function() {\n      $('#search_file').click();\n    });\n    $('#search_file').change(function(e) {\n      upload_and_show_file($(this), e);\n    });\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('TempImageModel', [\n    '$q', '$rootScope', 'ImageSelects', 'PbrSelectModel', 'ImageStore', 'ImageModel', function($q, $rootScope, ImageSelects, PbrSelectModel, ImageStore, ImageModel) {\n      var cleanImageForUpdate, createImage, fileToImage, formatImageFields, imageData, tempImageModel;\n      tempImageModel = {};\n      tempImageModel.isTempImage = false;\n      imageData = {\n        image_id: null,\n        title: null,\n        description: null,\n        publication_date: null,\n        creation_date: null,\n        location: null,\n        credit_byline: null,\n        is_r_rated: null,\n        is_rights_managed: null,\n        is_royalty_free: null,\n        model_release_info: null,\n        property_release_info: null,\n        plus_id: null,\n        license_type_id: null,\n        platform_business_rules: null,\n        reference_file_path: null,\n        keywords: [],\n        creator: {\n          creator_name: null,\n          email: null,\n          site_url: null\n        },\n        licensing_rep: {\n          is_exclusive: null,\n          is_active: null,\n          created_at: null,\n          licensing_rep_name: null,\n          site_url: null\n        }\n      };\n      tempImageModel.imageTemplate = imageData;\n      createImage = function(file) {\n        var data;\n        data = angular.copy(imageData);\n        data.title = file.name;\n        return data;\n      };\n      fileToImage = function(file) {\n        var deferred, reader, src;\n        deferred = $q.defer();\n        src = null;\n        reader = new FileReader();\n        reader.onload = function(e) {\n          return deferred.resolve({\n            file: e.target.result\n          });\n        };\n        reader.readAsDataURL(file);\n        return deferred.promise;\n      };\n      formatImageFields = function(image) {\n        var key, option, value;\n        for (key in image) {\n          value = image[key];\n          if (key === 'license_type_id') {\n            option = ImageSelects.getOptionText(key, value);\n            if (option !== false) {\n              image[key] = option;\n            }\n          }\n        }\n        return image;\n      };\n      cleanImageForUpdate = function(image) {\n        var cleanValue, fields, key, keys, nulls, value;\n        fields = {};\n        keys = Object.keys(image).length;\n        nulls = 0;\n        for (key in image) {\n          value = image[key];\n          cleanValue = null;\n          if (value === null) {\n            nulls++;\n            continue;\n          }\n          if (key === 'license_type_id') {\n            cleanValue = ImageSelects.getOptionId(key, value);\n          } else if (value instanceof Array) {\n            if (value.length > 0) {\n              cleanValue = value;\n            } else {\n              nulls++;\n              continue;\n            }\n          } else if (typeof value === 'object') {\n            if (key === 'licensing_rep' && value.licensing_rep_name === null) {\n              nulls++;\n              continue;\n            }\n            cleanValue = cleanImageForUpdate(value);\n            if (cleanValue === false) {\n              continue;\n            }\n          }\n          fields[key] = cleanValue || value;\n        }\n        if (nulls === keys) {\n          return false;\n        }\n        delete fields.image_id;\n        delete fields.reference_file_path;\n        return fields;\n      };\n      tempImageModel.addImage = function(file) {\n        var image;\n        image = createImage(file);\n        image.image_id = \"unsaved-image\";\n        fileToImage(file).then(function(result) {\n          image.reference_file_path = result.file;\n          ImageStore.set('image', image);\n        });\n        return image;\n      };\n      tempImageModel.updateImage = function(image) {\n        image = formatImageFields(image);\n        ImageStore.set('image', image);\n      };\n      tempImageModel.getImage = function() {\n        return ImageStore.get('image');\n      };\n      tempImageModel.removeImage = function() {\n        ImageStore.remove('image');\n      };\n      tempImageModel.hasImage = function() {\n        return tempImageModel.getImage() != null;\n      };\n      tempImageModel.uploadTempImage = function() {\n        var cleanImage, image, promises;\n        image = tempImageModel.getImage();\n        promises = [];\n        cleanImage = cleanImageForUpdate(image);\n        if (cleanImage === false) {\n          return false;\n        }\n        ImageModel.uploadUrl(image.reference_file_path).then(function(data) {\n          cleanImage.image_id = data.image_id;\n          ImageModel.updateImage(cleanImage).then(function(data2) {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'success',\n              message: 'All your unsaved images were sent to our database',\n              title: 'Saved all images'\n            });\n            tempImageModel.removeImage();\n          });\n        }, function(response) {});\n      };\n      return tempImageModel;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"TempImageController\", [\n    '$scope', '$filter', 'ImageModel', 'TempImageModel', function($scope, $filter, ImageModel, TempImageModel) {\n      $scope.editing = false;\n      $scope.image = {};\n      $scope.isTempImage = true;\n      $scope.saved = true;\n      $scope.image = TempImageModel.getImage();\n      $scope.originalImage = angular.copy($scope.image);\n      $scope.$on('imageChanged', function() {\n        $scope.saved = false;\n      });\n      $scope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {\n        if (toState.name === 'login') {\n          return false;\n        }\n        if (!$scope.saved) {\n          if (!confirm('There are unsaved changes on the image. Are you sure you want to leave this page?')) {\n            event.preventDefault();\n          }\n        }\n      });\n      $scope.toggleEdition = function() {\n        $scope.editing = !$scope.editing;\n        $scope.$broadcast('beginImageEdition', $scope.editing);\n      };\n      $scope.updateImage = function(image) {\n        if (angular.equals(image, $scope.originalImage)) {\n          $scope.$emit('showToastrMessage', {\n            type: 'warning',\n            message: 'No need of saving',\n            'The image is untouched.': 'The image is untouched.'\n          });\n          return false;\n        }\n        $scope.image = image;\n        TempImageModel.updateImage($scope.image);\n        $scope.$emit('showToastrMessage', {\n          type: 'warning',\n          message: 'The data you entered was saved only locally. After you <strong>log in</strong> you can save your image on our database'\n        });\n        $scope.saved = true;\n        $scope.toggleEdition();\n      };\n      $scope.resetImage = function() {\n        $scope.image = angular.copy($scope.originalImage);\n        $scope.saved = true;\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"MatchesController\", [\n    '$scope', '$state', 'toastr', 'MatchModel', function($scope, $state, toastr, MatchModel) {\n      $scope.results = MatchModel.getResults();\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('MatchModel', function() {\n    var imageResults, matchModel;\n    imageResults = [];\n    matchModel = {};\n    matchModel.setResults = function(results) {\n      imageResults = results;\n    };\n    matchModel.getResults = function() {\n      return imageResults;\n    };\n    return matchModel;\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller(\"ImagesController\", [\n    '$scope', '$state', '$timeout', 'ImageModel', 'ImagePromise', 'AUTH_EVENTS', 'TempImageModel', function($scope, $state, $timeout, ImageModel, ImagePromise, AUTH_EVENTS, TempImageModel) {\n      $scope.image = {};\n      $scope.saved = true;\n      $scope.editing = false;\n      if (TempImageModel.isTempImage) {\n        $scope.origin = 'tryit';\n        $timeout(function() {\n          $scope.$parent.$broadcast('showSearchTooltip');\n        }, 1000);\n      }\n      $scope.image = ImagePromise.image;\n      $scope.originalImage = angular.copy(ImagePromise.image);\n      $scope.$on(AUTH_EVENTS.logoutSuccess, function(event) {\n        $scope.$broadcast('beginImageEdition', false);\n      });\n      $scope.checkEditing = function() {\n        if ($scope.isAuthenticated() && $scope.currentUser.id === $scope.image.user_id) {\n          $timeout(function() {\n            $scope.$broadcast('beginImageEdition', true);\n          }, 100);\n        }\n      };\n      $scope.$on('imageChanged', function() {\n        $scope.saved = false;\n      });\n      $scope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {\n        if (toState.name === 'login') {\n          return false;\n        }\n        if (!$scope.saved) {\n          if (!confirm('There are unsaved changes on the image. Are you sure you want to leave this page?')) {\n            event.preventDefault();\n          }\n        }\n        TempImageModel.isTempImage = false;\n      });\n      $scope.toggleEdition = function() {\n        $scope.editing = !$scope.editing;\n        $scope.$broadcast('beginImageEdition', $scope.editing);\n      };\n      $scope.updateImage = function(image) {\n        var fields;\n        if (angular.equals(image, $scope.originalImage)) {\n          $scope.$emit('showToastrMessage', {\n            type: 'warning',\n            message: 'No changes have been made, there is nothing to save.'\n          });\n          return false;\n        }\n        fields = {};\n        fields.image_id = image.image_id;\n        angular.forEach(image, function(value, key) {\n          if (!angular.equals(value, $scope.originalImage[key])) {\n            fields[key] = value;\n          }\n        });\n        ImageModel.updateImage(fields).then(function(data) {\n          $scope.saved = true;\n          $scope.$emit('showToastrMessage', {\n            type: 'success',\n            message: 'Image updated.',\n            title: 'Success'\n          });\n          $scope.originalImage = angular.copy(image);\n        }, function() {\n          $scope.$emit('showToastrMessage', {\n            type: 'error',\n            message: 'Something went wrong! Please contact our support team.',\n            title: 'Error'\n          });\n        });\n      };\n      $scope.resetImage = function() {\n        $scope.image = angular.copy($scope.originalImage);\n        $scope.saved = true;\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('ImageStore', [\n    'store', function(store) {\n      return store.getNamespacedStore('image');\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('ImageSelects', [\n    '$filter', function($filter) {\n      var imageSelects, selects;\n      imageSelects = {};\n      selects = {};\n      selects.license_type_id = [\n        {\n          id: 'PD',\n          text: 'Public Domain'\n        }, {\n          id: 'CopyrightAR',\n          text: 'Copyright All Rights Reserved'\n        }, {\n          id: 'CC-BY',\n          text: 'CreativeCommons - Attribution CC BY'\n        }, {\n          id: 'CC-BY-SA',\n          text: 'CreativeCommons - Attribution-ShareAlike CC BY-SA'\n        }, {\n          id: 'CC-BY-ND',\n          text: 'CreativeCommons - Attribution-NoDerivs CC BY-ND'\n        }, {\n          id: 'CC-BY-NC',\n          text: 'CreativeCommons - Attribution-NonCommercial CC BY-NC'\n        }, {\n          id: 'CC-BY-NC-ND',\n          text: 'CreativeCommons - Attribution-NonCommercial-NoDerivs CC BY-NC-ND'\n        }, {\n          id: 'CC-BY-ND-SA',\n          text: 'CreativeCommons - Attribution-NonCommercial-ShareAlike CC BY-ND-SA'\n        }\n      ];\n      imageSelects.getSelectOptions = function(select) {\n        return selects[select];\n      };\n      imageSelects.getOptionId = function(select, option) {\n        var found, values;\n        values = imageSelects.getSelectOptions(select);\n        found = $filter('filter')(values, {\n          text: option\n        })[0];\n        if (found != null) {\n          return found.id;\n        } else {\n          return false;\n        }\n      };\n      imageSelects.getOptionText = function(select, option) {\n        var found, values;\n        values = imageSelects.getSelectOptions(select);\n        found = $filter('filter')(values, {\n          id: option\n        })[0];\n        if (found != null) {\n          return found.text;\n        } else {\n          return false;\n        }\n      };\n      return imageSelects;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('ImageModel', [\n    '$http', 'API_URL', 'UserAuth', 'Upload', function($http, API_URL, UserAuth, Upload) {\n      var imageModel;\n      imageModel = {};\n      imageModel.getGreeting = function(name) {\n        return \"Hello \" + name;\n      };\n      imageModel.getImage = function(hashid) {\n        return $http.get(API_URL + \"/images/\" + hashid + \"?includeFields=all\").then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.getFeaturedImage = function() {\n        var featured;\n        featured = 'Frontpage Images';\n        return $http.get(API_URL + \"/images?collection_name=\" + featured).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.reportViolation = function(image_id, violation) {\n        var hashid;\n        hashid = image_id;\n        return $http.post(API_URL + \"/images/\" + hashid + \"/violation\", violation).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.updateImage = function(image) {\n        var hashid;\n        hashid = image.image_id;\n        delete image.image_id;\n        delete image.reference_file_path;\n        return $http.put(API_URL + \"/images/\" + hashid, image).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.isMissingInfo = function(image) {\n        var attr, i, len, missing, value;\n        missing = [];\n        for (value = i = 0, len = image.length; i < len; value = ++i) {\n          attr = image[value];\n          if (value == null) {\n            missing.push(attr);\n          }\n        }\n        if (missing.length) {\n          return false;\n        } else {\n          return true;\n        }\n      };\n      imageModel.getUserImages = function(page) {\n        var params;\n        params = \"\";\n        if (UserAuth.isAuthenticated()) {\n          params += \"user_id=\" + (UserAuth.getUser().id);\n        }\n        if (page != null) {\n          params += \"&page=\" + page;\n        }\n        return $http.get(API_URL + \"/images?\" + params).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel[\"delete\"] = function(hashid) {\n        var params;\n        params = \"id=\" + hashid;\n        return $http[\"delete\"](API_URL + \"/images/\" + hashid).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.uploadUrl = function(url) {\n        var params;\n        params = {\n          image_url: url\n        };\n        if (UserAuth.isAuthenticated()) {\n          params.user_id = UserAuth.getUser().id;\n        }\n        return $http.post(API_URL + \"/images\", params).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.matchUrl = function(url) {\n        var params;\n        params = {\n          image_url: url\n        };\n        if (UserAuth.isAuthenticated()) {\n          params.user_id = UserAuth.getUser().id;\n        }\n        return $http.post(API_URL + \"/match\", params).then(function(res) {\n          return res.data;\n        });\n      };\n      imageModel.upload = function(file) {\n        var params;\n        params = {\n          url: API_URL + \"/images\",\n          file: file\n        };\n        if (UserAuth.isAuthenticated()) {\n          params.fields = {\n            user_id: UserAuth.getUser().id\n          };\n        }\n        return Upload.upload(params);\n      };\n      imageModel.match = function(file) {\n        var params;\n        params = {\n          url: API_URL + \"/match\",\n          file: file\n        };\n        if (UserAuth.isAuthenticated()) {\n          params.fields = {\n            user_id: UserAuth.getUser().id\n          };\n        }\n        return Upload.upload(params);\n      };\n      return imageModel;\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").run([\n    '$rootScope', '$state', '$stateParams', '$log', '$window', '$location', 'crazyegg', function($rootScope, $state, $stateParams, $log, $window, $location, crazyegg) {\n      $rootScope.$log = $log;\n      crazyegg.initCrazyEgg('00209233');\n      $window.ga('create', 'UA-45654397-1', 'auto');\n      $rootScope.$on('$stateChangeStart', function(e, toState, toParams, fromState, fromParams) {\n        $rootScope.$state = $state;\n        $rootScope.$broadcast('resetContainer');\n        $window.ga('send', 'pageview', $location.path());\n        if (toState.name === 'login') {\n          if ($rootScope.$$childHead.isAuthenticated()) {\n            e.preventDefault();\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'info',\n              message: 'You\\'re already logged in.'\n            });\n            $state.go('home');\n          }\n          if (fromState.name !== '') {\n            $rootScope.returnToState = fromState;\n            return $rootScope.returnToStateParams = fromParams;\n          } else {\n            $rootScope.returnToState = 'home';\n            return $rootScope.returnToStateParams = {};\n          }\n        }\n      });\n      return Array.prototype.remove = function(e) {\n        var ref, t;\n        if ((t = this.indexOf(e)) > -1) {\n          return ([].splice.apply(this, [t, t - t + 1].concat(ref = [])), ref);\n        }\n      };\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").config([\n    '$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\n      $stateProvider.state(\"home\", {\n        url: \"/\",\n        templateUrl: \"app/main/homepage.html\",\n        controller: \"MainController\",\n        controllerAs: \"main\"\n      }).state(\"logout\", {\n        url: \"/logout\",\n        controller: \"LogoutController\"\n      }).state(\"login\", {\n        url: \"/login\",\n        templateUrl: \"app/user-login/login.html\",\n        controller: \"LoginController\",\n        data: {\n          hideUserPanel: true\n        }\n      }).state(\"signup\", {\n        url: \"/signup\",\n        templateUrl: \"app/user-login/signup.html\",\n        controller: \"LoginController\",\n        data: {\n          hideUserPanel: true\n        }\n      }).state(\"profile-edit\", {\n        url: \"/profile-edit\",\n        templateUrl: \"app/users/profile-edit.html\",\n        controller: \"ProfileEditController\",\n        controllerAs: \"profileEdit\"\n      }).state(\"user-default\", {\n        resolve: {\n          UserDefaultsPromise: [\n            '$q', '$state', '$stateParams', 'UserAuth', function($q, $state, $stateParams, UserAuth) {\n              var deferred;\n              deferred = $q.defer();\n              UserAuth.userDefaults(UserAuth.getUser().id).then(function(data) {\n                var defaults;\n                defaults = data.data !== null ? data.data : {};\n                deferred.resolve({\n                  default_values: defaults\n                });\n              }, function() {\n                deferred.resolve({\n                  default_values: {}\n                });\n              });\n              return deferred.promise;\n            }\n          ]\n        },\n        url: \"/user-defaults\",\n        templateUrl: \"app/users/user-default.html\",\n        controller: \"UserDefaultController\"\n      }).state(\"password-recovery\", {\n        url: \"/password-recovery\",\n        templateUrl: \"app/users/password-recovery.html\",\n        controller: \"PasswordRecoveryController\",\n        controllerAs: \"passwordRecovery\"\n      }).state(\"password-reset\", {\n        url: \"/password-reset/:reset_password_token\",\n        templateUrl: \"app/users/password-reset.html\",\n        controller: \"PasswordResetController\",\n        controllerAs: \"passwordReset\"\n      }).state(\"about\", {\n        url: \"/mission\",\n        templateUrl: \"app/static-pages/about.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"contact\", {\n        url: \"/contact\",\n        templateUrl: \"app/static-pages/contact.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"terms-of-use\", {\n        url: \"/terms-of-use\",\n        templateUrl: \"app/static-pages/terms-of-use.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"privacy-policy\", {\n        url: \"/privacy-policy\",\n        templateUrl: \"app/static-pages/privacy-policy.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"image-identification\", {\n        url: \"/image-identification\",\n        templateUrl: \"app/static-pages/image-identification.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"api\", {\n        url: \"/developers\",\n        templateUrl: \"app/static-pages/api.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"add-images\", {\n        url: \"/add-images\",\n        templateUrl: \"app/static-pages/add-images.html\",\n        controller: \"StaticPagesController\",\n        controllerAs: \"staticPages\"\n      }).state(\"image-matches\", {\n        url: \"/image/matches\",\n        templateUrl: \"app/images/matches.html\",\n        controller: \"MatchesController\",\n        controllerAs: \"matches\"\n      }).state(\"temporary-image\", {\n        url: \"/temp-image\",\n        templateUrl: \"app/images/image-ownership.html\",\n        controller: \"TempImageController\"\n      }).state(\"image-ownership\", {\n        resolve: {\n          ImagePromise: [\n            '$q', '$state', '$stateParams', 'toastr', 'ImageModel', function($q, $state, $stateParams, toastr, ImageModel) {\n              var deferred;\n              deferred = $q.defer();\n              ImageModel.getImage($stateParams.hashid).then(function(image) {\n                deferred.resolve({\n                  image: image\n                });\n              }, function(response) {\n                toastr.error('Fail to get image', 'Error!');\n                $state.go('home');\n                deferred.reject();\n              });\n              return deferred.promise;\n            }\n          ]\n        },\n        url: \"/image-ownership/:hashid\",\n        templateUrl: \"app/images/image-ownership.html\",\n        controller: \"ImagesController\",\n        controllerAs: \"images\"\n      }).state(\"bulk-upload\", {\n        url: \"/my-images\",\n        templateUrl: \"app/bulk-upload/bulk-upload.html\",\n        controller: \"BulkUploadController\",\n        controllerAs: \"bulkUpload\"\n      }).state(\"bulk-edit\", {\n        url: \"/my-images/bulk-edit\",\n        templateUrl: \"app/bulk-upload/bulk-edit.html\",\n        controller: \"BulkEditController\",\n        controllerAs: \"bulkEdit\"\n      });\n      return $urlRouterProvider.otherwise('/');\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").factory('mockInterceptor', function() {\n    return {\n      request: function(config) {\n        config.headers['Mock'] = 'true';\n        return config;\n      }\n    };\n  }).factory('responseInterceptor', [\n    '$q', '$rootScope', function($q, $rootScope) {\n      return {\n        responseError: function(response) {\n          var ref;\n          if (response.status === 401) {\n            $rootScope.$broadcast('reAuthenticate', {\n              message: response.data.error\n            });\n          } else if ((ref = response.status) !== 200 && ref !== 201) {\n            $rootScope.$broadcast('showToastrMessage', {\n              type: 'error',\n              message: \"Something went wrong please reach out to tech@imagewiki.org\"\n            });\n          }\n          return $q.reject(response);\n        }\n      };\n    }\n  ]).config([\n    'jwtInterceptorProvider', '$httpProvider', function(jwtInterceptorProvider, $httpProvider) {\n      jwtInterceptorProvider.authHeader = 'XAuthToken';\n      jwtInterceptorProvider.authPrefix = '';\n      jwtInterceptorProvider.tokenGetter = [\n        'UserAuth', function(UserAuth) {\n          var token;\n          token = UserAuth.getToken();\n          if (token != null) {\n            return token;\n          } else {\n            return null;\n          }\n        }\n      ];\n      return $httpProvider.interceptors.push('jwtInterceptor', 'responseInterceptor');\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").controller('ApplicationController', [\n    '$scope', '$state', 'toastr', 'UserAuth', 'AUTH_EVENTS', 'MessageFormatter', 'TempImageModel', function($scope, $state, toastr, UserAuth, AUTH_EVENTS, MessageFormatter, TempImageModel) {\n      $scope.currentUser = UserAuth.getUser();\n      $scope.$watch('currentUser', function() {});\n      $scope.container_class = 'container';\n      $scope.isAuthenticated = function() {\n        return UserAuth.isAuthenticated();\n      };\n      $scope.setCurrentUser = function(user) {\n        $scope.currentUser = user;\n      };\n      $scope.$on('showToastrMessage', function(event, data) {\n        var options, title;\n        options = data.options || null;\n        title = data.title || null;\n        toastr[data.type](data.message, title, options);\n      });\n      $scope.$on('reAuthenticate', function(event, data) {\n        toastr.error(data.message, 'Error');\n        UserAuth.logout();\n        $scope.setCurrentUser(null);\n        $state.go('login');\n      });\n      $scope.$on('resetContainer', function(event) {\n        $scope.container_class = 'container';\n      });\n      $scope.$on('fluidContainer', function(event) {\n        $scope.container_class = 'container-fluid';\n      });\n      $scope.$on(AUTH_EVENTS.loginSuccess, function(event) {\n        toastr.success('Successfully logged in.', 'Success');\n        if (TempImageModel.hasImage()) {\n          toastr.info(\"You have images unsaved. Now that you're logged in we will save them on our servers.\", 'Uploading unsaved images', {\n            timeOut: 20000\n          });\n          TempImageModel.uploadTempImage();\n        }\n      });\n      $scope.$on(AUTH_EVENTS.logoutSuccess, function(event) {\n        toastr.success('Successfully logged out.', 'Success');\n      });\n      $scope.$on(AUTH_EVENTS.loginFailed, function(event, data) {\n        var error_message;\n        error_message = MessageFormatter.error(data);\n        toastr.error(error_message, 'Error');\n      });\n    }\n  ]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('imagewikiFrontend').constant('API_URL', 'http://dev.api.image.wiki/v1').constant('AUTH_EVENTS', {\n    loginSuccess: 'auth-login-success',\n    loginFailed: 'auth-login-failed',\n    logoutSuccess: 'auth-logout-success',\n    sessionTimeout: 'auth-session-timeout',\n    notAuthenticated: 'auth-not-authenticated',\n    notAuthorized: 'auth-not-authorized'\n  }).constant('USER_ROLES', {\n    all: '*',\n    admin: 'admin',\n    editor: 'editor',\n    guest: 'guest'\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module(\"imagewikiFrontend\").config([\n    '$logProvider', 'toastrConfig', function($logProvider, toastrConfig) {\n      $logProvider.debugEnabled(true);\n      return angular.extend(toastrConfig, {\n        timeOut: 3000,\n        positionClass: 'toast-top-right',\n        progressBar: true,\n        allowHtml: true\n      });\n    }\n  ]);\n\n}).call(this);\n\n\n\nangular.module(\"imagewikiFrontend\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/footer.html\",\"<div class=\\\"toasty\\\"><img src=\\\"assets/toasty/toasty.png\\\" alt=\\\"Test\\\"><audio controls=\\\"\\\" id=\\\"toasty-sound\\\"><source src=\\\"assets/toasty/toasty.mp3\\\" type=\\\"audio/mpeg\\\"><source src=\\\"assets/toasty/toasty.ogg\\\" type=\\\"audio/ogg\\\"><source src=\\\"assets/toasty/toasty.wav\\\" type=\\\"audio/wav\\\"><embed height=\\\"50\\\" width=\\\"100\\\" src=\\\"assets/toasty/toasty.mp3\\\"></audio></div><div class=\\\"well geek-quote\\\"><div><div class=\\\"fb-like\\\" style=\\\"top: -6px;\\\" data-href=\\\"https://www.facebook.com/imagewiki\\\" data-layout=\\\"button_count\\\" data-action=\\\"like\\\" data-show-faces=\\\"true\\\" data-share=\\\"false\\\"></div><a href=\\\"https://twitter.com/imagewikiorg\\\" class=\\\"twitter-follow-button\\\" data-show-count=\\\"true\\\" data-lang=\\\"en\\\">Follow @Imagewiki</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=\\\"//platform.twitter.com/widgets.js\\\";fjs.parentNode.insertBefore(js,fjs);}}(document,\\\"script\\\",\\\"twitter-wjs\\\");</script></div></div><div class=\\\"container footer-links\\\"><ul><li><a ui-sref=\\\"about\\\">About</a></li><li><a ui-sref=\\\"contact\\\">Contact</a></li><li><a ui-sref=\\\"terms-of-use\\\">Terms of Use</a></li><li><a ui-sref=\\\"privacy-policy\\\">Privacy Policy</a></li></ul></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><div class=\\\"jumbotron text-center\\\"><h1>\\'Allo, \\'Allo!</h1><div id=\\\"carousel-example-generic\\\" class=\\\"carousel slide\\\" data-ride=\\\"carousel\\\"><ol class=\\\"carousel-indicators\\\"><li data-target=\\\"#carousel-example-generic\\\" data-slide-to=\\\"0\\\" class=\\\"active\\\"></li><li data-target=\\\"#carousel-example-generic\\\" data-slide-to=\\\"1\\\"></li><li data-target=\\\"#carousel-example-generic\\\" data-slide-to=\\\"2\\\"></li></ol><div class=\\\"carousel-inner\\\" role=\\\"listbox\\\"><div class=\\\"item active\\\"><img src=\\\"http://lorempixel.com/600/400/sports/\\\" alt=\\\"Sports\\\"><div class=\\\"carousel-caption\\\">SPORTS!</div></div><div class=\\\"item\\\"><img src=\\\"http://lorempixel.com/600/400/abstract/\\\" alt=\\\"Abstract\\\"><div class=\\\"carousel-caption\\\">Abstract</div></div><div class=\\\"item\\\"><img src=\\\"http://lorempixel.com/600/400/nature/\\\" alt=\\\"Nature\\\"><div class=\\\"carousel-caption\\\">Nature</div></div></div><a class=\\\"left carousel-control\\\" href=\\\"#carousel-example-generic\\\" role=\\\"button\\\" data-slide=\\\"prev\\\"><span class=\\\"glyphicon glyphicon-chevron-left\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Previous</span></a> <a class=\\\"right carousel-control\\\" href=\\\"#carousel-example-generic\\\" role=\\\"button\\\" data-slide=\\\"next\\\"><span class=\\\"glyphicon glyphicon-chevron-right\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Next</span></a></div></div></div>\");\n$templateCache.put(\"app/bulk-upload/bulk-edit.html\",\"<div class=\\\"liquid-container\\\"><div class=\\\"row quick-menu\\\"><div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 content-main\\\"><ng-include src=\\\"\\'app/users/user-nav-tabs.html\\'\\\"></ng-include><form id=\\\"info_image\\\" name=\\\"imageForm\\\" ng-submit=\\\"updateImage(image)\\\" class=\\\"edit_image\\\"><div class=\\\"image-info\\\"><images-wall images=\\\"images\\\" selector=\\\"user-images\\\" selectable=\\\"false\\\"></images-wall></div><div class=\\\"row\\\"><div class=\\\"col-lg-8 col-md-8 col-sm-8 col-xs-8 col-lg-offset-2 col-md-offset-2 col-sm-offset-2 col-xs-offset-2\\\"><div class=\\\"page-header\\\"><h2 ng-click=\\\"debugImage()\\\">Copyright and ownership Information</h2></div><div ng-include=\\\"\\'app/images/images-fields.html\\'\\\" onload=\\\"checkEditing()\\\" class=\\\"image-fields\\\"></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/bulk-upload/bulk-upload.html\",\"<div class=\\\"liquid-container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 content-main\\\"><div class=\\\"bulk-upload\\\"><ng-include src=\\\"\\'app/users/user-nav-tabs.html\\'\\\"></ng-include><div class=\\\"btn-group pull-right bulk-actions\\\"><button type=\\\"button\\\" data-toggle=\\\"dropdown\\\" class=\\\"btn btn-default dropdown-toggle\\\">Bulk Actions&nbsp;<span class=\\\"caret\\\"></span></button><ul role=\\\"menu\\\" class=\\\"dropdown-menu\\\"><li><a ng-click=\\\"editImages()\\\" class=\\\"edit\\\">Edit</a></li><li><a ng-click=\\\"deleteImages()\\\" class=\\\"delete\\\">Delete</a></li></ul></div><div class=\\\"action-buttons\\\"><span ngf-select=\\\"\\\" ng-model=\\\"files\\\" ngf-multiple=\\\"true\\\" ngf-change=\\\"$broadcast(\\'FilesChanged\\')\\\" class=\\\"btn btn-primary fileinput-button\\\"><span class=\\\"fa fa-cloud-upload\\\"></span><span>&nbsp;Upload More Images</span></span></div><div ng-show=\\\"files.length &gt; 0\\\" class=\\\"images clearfix\\\"><h2>Uploading...</h2><uploading-files files=\\\"files\\\" selector=\\\"uploading-files\\\"></uploading-files></div><h2 ng-show=\\\"files.length &gt; 0\\\">Your Images</h2><images-wall images=\\\"images\\\" selector=\\\"user-images\\\" selectable=\\\"true\\\"></images-wall></div></div></div></div>\");\n$templateCache.put(\"app/bulk-upload/uploading-files.html\",\"<div id=\\\"{{selector}}\\\" class=\\\"images clearfix\\\"><div ng-repeat=\\\"file in files\\\" last-file=\\\"\\\" class=\\\"image file\\\"><span aria-hidden=\\\"true\\\" title=\\\"Abort!\\\" ng-click=\\\"file.upload.abort(); file.aborted = true\\\" class=\\\"abort fa fa-times\\\"></span><div class=\\\"image-controls clearfix animated fadeInDown\\\"><span ng-show=\\\"file.progress == 0\\\" class=\\\"label label-default\\\">Preparing File.</span><span ng-show=\\\"file.progress &gt; 0 &amp;&amp; file.progress &lt; 100\\\" class=\\\"label label-primary\\\">Uploading...</span><span ng-show=\\\"file.progress == 100\\\" class=\\\"label label-success\\\">Processing...</span></div><img ngf-src=\\\"file\\\"><div class=\\\"name-scroll animated fadeInUp\\\"><div class=\\\"progress\\\"><div role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: {{ file.progress }}%;\\\" class=\\\"progress-bar\\\"><span class=\\\"sr-only\\\">{{ file.progress }}% Complete</span></div></div></div></div></div>\");\n$templateCache.put(\"app/images/image-ownership.html\",\"<div class=\\\"row quick-menu\\\"><div class=\\\"col-lg-8 col-md-8 col-sm-8 col-xs-12 col-lg-offset-2 col-md-offset-2 col-sm-offset-2 content-main\\\"><ul class=\\\"breadcrumb\\\"><li><a ui-sref=\\\"home\\\">Home</a></li><li>Image Ownership</li></ul><div ng-if=\\\"origin == \\'tryit\\'\\\" class=\\\"alert alert-info\\\">This is how you add an image to the wiki.</div><div ng-if=\\\"isTempImage\\\" class=\\\"alert alert-danger\\\">You must <strong>create and account</strong> or <strong>log in</strong> in order to save this image</div><form id=\\\"info_image\\\" name=\\\"imageForm\\\" ng-submit=\\\"updateImage(image)\\\" class=\\\"edit_image\\\"><div class=\\\"image-info clearfix\\\"><div class=\\\"image\\\"><img alt=\\\"\\\" ng-src=\\\"{{image.reference_file_path}}\\\"></div><div class=\\\"title\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'title\\'\\\" ng-model=\\\"image.title\\\" block=\\\"\\'h3\\'\\\"></editable-field></div><div ng-show=\\\"image.creator.creator_name != \\'\\'\\\" class=\\\"creator\\\">{{ image.creator.creator_name }}</div></div><div class=\\\"page-header\\\"><image-violation image-id=\\\"image.image_id\\\"></image-violation><h2 ng-click=\\\"debugImage()\\\">Copyright and ownership Information</h2></div><div ng-include=\\\"\\'app/images/images-fields.html\\'\\\" onload=\\\"checkEditing()\\\" class=\\\"image-fields\\\"></div></form></div></div>\");\n$templateCache.put(\"app/images/images-fields.html\",\"<div class=\\\"ownership-info\\\"><div class=\\\"ownership-list\\\"><h3>How can this image be used?</h3><table class=\\\"table-striped\\\"><tbody><tr><td><label>License Type Options</label></td><td><editable-field type=\\\"\\'select\\'\\\" name=\\\"\\'license_type_id\\'\\\" ng-model=\\\"image.license_type_id\\\"></editable-field></td></tr></tbody></table></div><div class=\\\"ownership-list\\\"><h3>Social media usage rules?</h3><table class=\\\"table-striped\\\"><tbody><tr><td><label>Platform Business Rules</label></td><td><editable-field type=\\\"\\'pbr-select\\'\\\" name=\\\"\\'platform_business_rules.all\\'\\\" ng-model=\\\"image.platform_business_rules\\\"></editable-field></td></tr></tbody></table></div><div class=\\\"ownership-list\\\"><h3>Creator Information</h3><table class=\\\"table-striped\\\"><tbody><tr><td><label>Creator Name</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'creator.creator_name\\'\\\" ng-model=\\\"image.creator.creator_name\\\"></editable-field></td></tr><tr><td><label>Website</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'creator.site_url\\'\\\" ng-model=\\\"image.creator.site_url\\\"></editable-field></td></tr><tr><td><label>Email</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'creator.email\\'\\\" ng-model=\\\"image.creator.email\\\"></editable-field></td></tr></tbody></table></div><div class=\\\"ownership-list\\\"><h3>General Info</h3><table class=\\\"table-striped\\\"><tbody><tr><td><label>Credit Byline</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'credit_byline\\'\\\" ng-model=\\\"image.credit_byline\\\"></editable-field></td></tr><tr><td><label>Description</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'description\\'\\\" ng-model=\\\"image.description\\\"></editable-field></td></tr><tr><td><label>Keywords</label></td><td><editable-field type=\\\"\\'array\\'\\\" name=\\\"\\'keywords\\'\\\" ng-model=\\\"image.keywords\\\"></editable-field></td></tr><tr><td><label>Publication Date</label></td><td><editable-field type=\\\"\\'date\\'\\\" name=\\\"\\'publication_date\\'\\\" ng-model=\\\"image.publication_date\\\"></editable-field></td></tr><tr><td><label>Creation Date</label></td><td><editable-field type=\\\"\\'date\\'\\\" name=\\\"\\'creation_date\\'\\\" ng-model=\\\"image.creation_date\\\"></editable-field></td></tr><tr><td><label>Location</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'location\\'\\\" ng-model=\\\"image.location\\\"></editable-field></td></tr><tr><td><label>Rated R?</label></td><td><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'is_r_rated\\'\\\" ng-model=\\\"image.is_r_rated\\\"></editable-field></td></tr></tbody></table></div><div class=\\\"ownership-list\\\"><h3>Licensing Information</h3><table class=\\\"table-striped\\\"><tbody><tr><td><label>Licensing Representative</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'licensing_rep.licensing_rep_name\\'\\\" ng-model=\\\"image.licensing_rep.licensing_rep_name\\\"></editable-field></td></tr><tr><td><label>Licensing Website</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'licensing_rep.site_url\\'\\\" ng-model=\\\"image.licensing_rep.site_url\\\"></editable-field></td></tr><tr><td><label>Exclusive Representation?</label></td><td><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'licensing_rep.is_exclusive\\'\\\" ng-model=\\\"image.licensing_rep.is_exclusive\\\"></editable-field></td></tr><tr><td><label>Royalty Free?</label></td><td><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'is_royalty_free\\'\\\" ng-model=\\\"image.is_royalty_free\\\"></editable-field></td></tr><tr><td><label>Rights Managed?</label></td><td><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'is_rights_managed\\'\\\" ng-model=\\\"image.is_rights_managed\\\"></editable-field></td></tr><tr><td><label>Model Release</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'model_release_info\\'\\\" ng-model=\\\"image.model_release_info\\\"></editable-field></td></tr><tr><td><label>Property Release</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'property_release_info\\'\\\" ng-model=\\\"image.property_release_info\\\"></editable-field></td></tr><tr><td><label>PLUS ID</label></td><td><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'plus_id\\'\\\" ng-model=\\\"image.plus_id\\\"></editable-field></td></tr></tbody></table></div></div><div ng-class=\\\"{\\'unsaved-changes\\': !saved}\\\" class=\\\"save-bar\\\"><a ng-hide=\\\"saved\\\" ng-click=\\\"resetImage()\\\" class=\\\"btn btn-danger pull-left\\\">Cancel</a><button type=\\\"submit\\\" ng-hide=\\\"saved\\\" class=\\\"btn btn-primary pull-right\\\">Save Image</button><div ng-hide=\\\"saved\\\" class=\\\"unsaved-message\\\">Your image has unsaved changes.</div></div>\");\n$templateCache.put(\"app/images/matches.html\",\"<h1>Matches</h1><table id=\\\"list_matches\\\" class=\\\"table\\\"><thead></thead><tbody><tr ng-repeat=\\\"image in results\\\"><td class=\\\"img_thumb\\\"><span ng-if=\\\"image.is_verified\\\" class=\\\"glyphicon glyphicon-ok-circle is-verified\\\"></span><a ui-sref=\\\"image-ownership({ hashid: image.image_id })\\\" class=\\\"more\\\"><img ng-src=\\\"{{image.reference_file_path}}\\\"></a></td><td><dl><dt>title</dt><dd>{{image.title}}</dd><dt>creator</dt><dd>{{ image.creator == null ? \\'Unknown\\' : image.creator }}</dd><dt>licensing representative</dt><dd ng-show=\\\"image.licensing_rep == null\\\">Unknown</dd><dd ng-show=\\\"image.licensing_rep != null\\\"><a ng-click=\\\"display_content = !display_content\\\" ng-init=\\\"display_content=false\\\" class=\\\"btn btn-default btn-xs\\\">More</a><dl ng-show=\\\"display_content\\\"><dt>Is exclusive?</dt><dd ng-if=\\\"image.licensing_rep.is_exclusive\\\"><i class=\\\"fa fa-check\\\"></i>yes</dd><dd ng-if=\\\"!image.licensing_rep.is_exclusive\\\"><i class=\\\"fa fa-times\\\"></i>no</dd><dt>Name</dt><dd>{{ image.licensing_rep.licensing_rep_name == null ? \\'Unknown\\' : image.licensing_rep.licensing_rep_name }}</dd><dt>Site</dt><dd>{{ image.licensing_rep.site_url == null ? \\'Unknown\\' : image.licensing_rep.site_url }}</dd></dl></dd></dl><a ui-sref=\\\"image-ownership({ hashid: image.image_id })\\\" class=\\\"more\\\">[+] more about this image</a></td></tr></tbody><tfoot></tfoot></table>\");\n$templateCache.put(\"app/user-login/login.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-4 col-md-4 col-sm-10 col-xs-10 col-lg-offset-4 col-md-offset-4 col-sm-offset-1 col-xs-offset-1\\\"><div class=\\\"page-header\\\"><h1>Login</h1></div><form id=\\\"login\\\" name=\\\"loginForm\\\" ng-submit=\\\"login(credentials)\\\" novalidate=\\\"\\\" class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"login-email\\\" class=\\\"col-lg-3 control-label\\\">Email:</label><div class=\\\"col-lg-9\\\"><input id=\\\"login-email\\\" name=\\\"user[email]\\\" type=\\\"text\\\" value=\\\"\\\" ng-model=\\\"credentials.email\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"login-password\\\" class=\\\"col-lg-3 control-label\\\">Password:</label><div class=\\\"col-lg-9\\\"><input id=\\\"login-password\\\" name=\\\"user[password]\\\" type=\\\"password\\\" ng-model=\\\"credentials.password\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group remember-submit\\\"><div class=\\\"col-lg-9 remember\\\"><div class=\\\"checkbox\\\"><label><input name=\\\"user[remember_me]\\\" type=\\\"hidden\\\" value=\\\"0\\\"><input id=\\\"user_remember_me\\\" name=\\\"user[remember_me]\\\" type=\\\"checkbox\\\" value=\\\"1\\\"><label for=\\\"user_remember_me\\\">Remember me</label></label></div></div><div class=\\\"col-lg-3 submit\\\"><input name=\\\"commit\\\" type=\\\"submit\\\" value=\\\"Sign in\\\" class=\\\"btn btn-primary\\\"></div></div><a ui-sref=\\\"password-recovery\\\" ng-click=\\\"hideForms()\\\" class=\\\"forgot-password\\\">Forgot your password?</a></form></div></div>\");\n$templateCache.put(\"app/user-login/signup.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-6 col-md-6 col-sm-10 col-xs-10 col-lg-offset-3 col-md-offset-3 col-sm-offset-1 col-xs-offset-1\\\"><div class=\\\"page-header\\\"><h1>Sign up</h1></div><form id=\\\"new_user\\\" name=\\\"registerForm\\\" ng-submit=\\\"register(user)\\\" novalidate=\\\"\\\" class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"user_first_name\\\" class=\\\"col-lg-3 control-label\\\">First Name:</label><div class=\\\"col-lg-9\\\"><input id=\\\"user_first_name\\\" name=\\\"user[first_name]\\\" type=\\\"text\\\" ng-model=\\\"user.first_name\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"user_last_name\\\" class=\\\"col-lg-3 control-label\\\">Last Name:</label><div class=\\\"col-lg-9\\\"><input id=\\\"user_last_name\\\" name=\\\"user[last_name]\\\" type=\\\"text\\\" ng-model=\\\"user.last_name\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"user_email\\\" class=\\\"col-lg-3 control-label\\\">Email:</label><div class=\\\"col-lg-9\\\"><input id=\\\"user_email\\\" name=\\\"user[email]\\\" type=\\\"email\\\" value=\\\"\\\" ng-model=\\\"user.email\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"user_password\\\" class=\\\"col-lg-3 control-label\\\">Password:</label><div class=\\\"col-lg-9\\\"><input id=\\\"user_password\\\" name=\\\"user[password]\\\" type=\\\"password\\\" ng-model=\\\"user.password\\\" class=\\\"form-control\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"user_password_confirmation\\\" class=\\\"col-lg-3 control-label\\\">Confirm:</label><div class=\\\"col-lg-9\\\"><input id=\\\"user_password_confirmation\\\" name=\\\"user[password_confirmation]\\\" type=\\\"password\\\" ng-model=\\\"user.password_confirmation\\\" class=\\\"form-control\\\"></div></div><input name=\\\"commit\\\" style=\\\"float: right\\\" type=\\\"submit\\\" value=\\\"Sign up\\\" class=\\\"btn btn-primary\\\"></form></div></div>\");\n$templateCache.put(\"app/main/homepage.html\",\"<div class=\\\"container\\\"><section id=\\\"homepage\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-6 col-md-6 col-sm-6 col-xs-12\\\"><h1 class=\\\"main-title\\\">Link images inseparably with their credit.</h1><p>Imagewik is a free, community-driven database for visual artists and content owners to claim their works.</p><div class=\\\"upload-photo\\\"><h3>Try adding an image.</h3><div ngf-select=\\\"\\\" ngf-drop=\\\"\\\" ng-model=\\\"file\\\" class=\\\"upload-box\\\"><div class=\\\"icon\\\"><i class=\\\"fa fa-upload\\\"></i>Upload a file</div></div></div></div><div class=\\\"col-lg-1 col-md-1 col-sm-1 col-xs-12 middle-line\\\"><div class=\\\"vertical-line\\\"></div><div class=\\\"horizontal-line\\\"></div></div><div class=\\\"col-lg-5 col-md-5 col-sm-5 col-xs-12 random-image\\\"><div ng-hide=\\\"featuredCollection.collection_images.length &gt; 0\\\" class=\\\"loading-random-image\\\"><span class=\\\"fa fa-circle-o-notch fa-spin\\\"></span></div><div ng-show=\\\"featuredCollection.collection_images.length &gt; 0\\\" class=\\\"random-image-box\\\"><i ng-click=\\\"reloadFeatured()\\\" class=\\\"fa fa-refresh\\\"></i><h2>{{ featuredImage.title }}</h2><img ng-src=\\\"{{ featuredImage.reference_file_path }}\\\" alt=\\\"{{ featuredImage.title }} - {{ featuredImage.creator.creator_name }}\\\"><p ng-show=\\\"featuredImage.creator.creator_name != \\'\\'\\\" class=\\\"owner\\\">{{ featuredImage.creator.creator_name }}</p><div ng-if=\\\"featuredImage.license_type_id != null &amp;&amp; featuredImage.license_type_id != \\'\\'\\\" class=\\\"field\\\"><span class=\\\"field-name\\\">License Type</span> {{ featuredImage.license_type_id }}</div><div ng-if=\\\"featuredImage.platform_business_rules.length &gt; 0\\\" class=\\\"field business-rule\\\"><span class=\\\"field-name\\\">Social Media Usage Rules</span><i ng-repeat=\\\"rules in featuredImage.platform_business_rules\\\">{{ rules.business_rule_name }}</i></div><a ui-sref=\\\"image-ownership({ hashid: featuredImage.image_id })\\\" class=\\\"more\\\">More about this image</a></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12\\\"><p class=\\\"social-media-integration\\\">Anyone can find owners and sharing preferences by simply uploading the image to the search bar.<br>Imagewiki is also working with social media platforms to identify image uploads on their sites.&nbsp;<a ui-sref=\\\"about\\\">Learn More</a></p></div></div><div class=\\\"row social-media-steps\\\"><div class=\\\"col-lg-4 col-md-4 col-sm-4\\\"><div class=\\\"inner-box\\\"><h3>1. Import your images</h3><img alt=\\\"Import your images\\\" src=\\\"assets/images/social-media-step-1.png\\\"><p>Select the images you would like to claim.</p></div></div><div class=\\\"col-lg-4 col-md-4 col-sm-4\\\"><div class=\\\"inner-box\\\"><h3>2. Link your information</h3><img alt=\\\"Link your information\\\" src=\\\"assets/images/social-media-step-2.png\\\"><p>Apply default information like name, credit line and sharing rules.</p></div></div><div class=\\\"col-lg-4 col-md-4 col-sm-4\\\"><div class=\\\"inner-box\\\"><h3>3. Success - Claimed</h3><img alt=\\\"Success - Claimed\\\" src=\\\"assets/images/social-media-step-3.png\\\"><p>You have now publicly claimed your images regardless of where they are shared.<br><a ui-sref=\\\"about\\\">Learn More</a></p></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12\\\"><a ui-sref=\\\"signup\\\" class=\\\"btn btn-lg btn-primary sign-up\\\">Sign Up</a></div></div></section></div>\");\n$templateCache.put(\"app/static-pages/about.html\",\"<div class=\\\"container\\\"><div id=\\\"image-identification-page\\\"><div class=\\\"money-left\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Our Mission</h2><p>Imagewiki is a free, community-driven approach to cataloging and attributing ownership information to images. Image creators or owners can submit files with their relevant information to be reverse-searchable while the community at large can collaborate to identify unknown works.</p><div class=\\\"intro\\\"><div class=\\\"line\\\"><div class=\\\"line-box\\\">Why contribute to Imagewiki?</div><div class=\\\"horizontal-line\\\"></div></div></div></div></div></div><div class=\\\"money-left\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Link yourself inseparably to your images</h2><p>As your images spread across the web on social media, publications and search engines, it is imperative to eliminate ambiguity about the ownership of your works by claiming ownership of them on a universal platform like Imagewiki. Whether you&apos;re a photographer or the owner of a large database of images, your time and work is not free, so your content shouldn&apos;t be free either, unless you want it to be. Adding and verifying content in the Imagewiki database ensures that your ownership is clearly documented and published online for all to see. You can declare lenient usage instructions or strict and specific rules about what can be done with your images. By including critical attribution information on your works, you can<strong>&nbsp;show the world that you own your images regardless of where they are shared.</strong></p><div class=\\\"intro\\\"><div class=\\\"line\\\"><div class=\\\"line-box\\\">What can I do with this image?</div><div class=\\\"horizontal-line\\\"></div></div></div></div></div></div><div class=\\\"money-left\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Building a better community around image content.</h2><p><strong>Images have the irreplaceable power to unite us on the web.&nbsp;</strong>However, there is no way for those who use images on the web&mdash;either commercially or personally&mdash;to determine who owns most of those images. The availability of images online continues to grow, as does the number of platforms on which to use them, outpacing the ability of creators to keep track of how and where they are being used. With your help, Imagewiki is building an organized and transparent database of image ownership to make possible a functional and responsible ecosystem for images on the web.</p><div class=\\\"horizontal-line\\\"></div></div></div></div><div class=\\\"money-left\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>What&apos;s next?</h2><p>Hosting a robust database is just the beginning. Imagewiki is making it possible for internet platforms to identify the images that are used on their websites. Once images are identifiable, creators can have control and receive compensation for online image sharing.</p></div></div></div></div></div>\");\n$templateCache.put(\"app/static-pages/add-images.html\",\"<div class=\\\"container-fluid liquid-container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 content-main\\\"><div id=\\\"add-images-page\\\"><div class=\\\"intro\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h1>Every day hundreds of millions of photos are shared across the web without photo credit</h1><img alt=\\\"Imagewiki claim solution\\\" ng-src=\\\"assets/images/imagewiki-claim-solution.png\\\"><p>Imagewiki provides the public with an easy to use reverse image search to find photographer and copyright information.</p><div class=\\\"line\\\"><div class=\\\"line-box\\\">How to register your images</div><div class=\\\"horizontal-line\\\"></div></div></div></div></div><div class=\\\"images-rights\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Do you own image rights?</h2><p class=\\\"paragraph_centralized\\\">Contributing your images to our database is simple and easy.</p><p>Verifying your content in our database ensures that your ownership will be clearly documented and published online for everyone to see. There will be no more ambiguity about your licensing representation and contact information.</p></div></div></div><div class=\\\"add-your-photos\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-7 col-md-7 col-sm-7 col-xs-7\\\"><h2>1. Add your photos</h2><p>To add photos, simply choose a file or enter the URL where the image is hosted.</p></div><div class=\\\"col-lg-5 col-md-5 col-sm-5 col-xs-5\\\"><img alt=\\\"Imagewiki claim map computer\\\" ng-src=\\\"assets/images/imagewiki-claim-map-computer.png\\\"></div></div></div><div class=\\\"ownership-info\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>2. Fill out image ownership information</h2><p>Imagewiki makes it easy for you to add photography credit, as well as licensing and copyright information to each image. Simply click &quot;Add / Edit&quot; button next to the field you wish to fill and enter text.</p><p><a ng-click=\\\"openSignUpForm()\\\">Sign Up</a> for an account to add images in bulk and apply your ownership information to many images at one time.</p></div></div></div><div class=\\\"image-protected\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>3. Done</h2><p>That\\'s it! Your image is now protected.</p><p></p><ul class=\\\"list\\\"><li><i class=\\\"fa fa-check\\\"></i>&nbsp;Photo added</li><li><i class=\\\"fa fa-check\\\"></i>&nbsp;Info added</li><li><i class=\\\"fa fa-thumbs-o-up\\\"></i>&nbsp;Next someone searches your images, they\\'ll see your info.</li></ul><p></p><div class=\\\"horizontal-line\\\"></div></div></div></div><div class=\\\"submit-your-image\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Imagewiki is working to compensate photographers and businesses for unlicensed uses on the web.<br><a ui-sref=\\\"image-identification\\\">Learn More</a></h2></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/static-pages/api.html\",\"<div class=\\\"container\\\"><div id=\\\"api\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 subtitle\\\"><h2>API Documentation</h2></div></div><div class=\\\"intro\\\"><p>Thank you for interest in the Imagewiki REST API!</p><p>These methods are meant to make it possible for individuals and organizations to programmatically identify images and their ownership information. The API also makes it possible to submit images and ownership data to the Imagewiki database.</p></div><h3>Accessing the API</h3><p class=\\\"step-description\\\">You can gain access to our API by emailing api@imagewiki.org with your full name, company, address and brief description of how you intend to use the API. If your request is approved, you will be given a username and password that you may exchange for access tokens.</p><h3>Querying the API</h3><p class=\\\"step-description\\\">The API endpoint is at api.imagewiki.org. All requests are done by HTTP POST and require an access token</p><h3>API Methods</h3><h4 class=\\\"method no-top-margin\\\">/search</h4><p class=\\\"method-description\\\">This method allows you to search for images by keyword.</p><div class=\\\"table-container\\\"><table class=\\\"table table-striped\\\"><thead><tr><th>PARAMETERS</th><th>TYPE</th><th>DESCRIPTION</th></tr></thead><tbody><tr><td><code>keyword</code></td><td>String</td><td>Text to be searched</td></tr><tr><td><code>authorization_token</code></td><td>String</td><td>Token issued by authentication</td></tr></tbody></table></div><div class=\\\"example\\\"><h5>Example Query:</h5><pre><code>curl -X POST http://api.imagewiki.org/search/led%20zeppelin -H \\'Authorization: Token token=0541d7dipfd6249875b751ak12f90085\\'</code></pre><h5>Example Response:</h5><pre><code>{<br>  \\\"results_count\\\": 1345,<br>  \\\"per_page\\\": 75,<br>  \\\"results\\\": [<br>  ...<br>  {<br>      \\\"id\\\": \\\"6e370qz054on\\\",<br>      \\\"title\\\": \\\"Led Zeppelin at Kennedy Center honors\\\",<br>      \\\"urls\\\": [<br>          \\\"http://www.overthinkingit.com/wp-content/uploads/2013/07/led-zeppelin-banner.jpg\\\",<br>          ...<br>      ],<br>      \\\"width\\\": \\\"1280\\\",<br>      \\\"height\\\": \\\"720\\\",<br>      \\\"ownership_data\\\": {<br>          \\\"author\\\": {<br>              \\\"name\\\": \\\"Joe Shmoe\\\",<br>              \\\"address\\\": \\\"125 Fake St. Fresno CA 90022\\\",<br>              \\\"email\\\": \\\"joe@shmoe.com\\\",<br>              \\\"representative\\\": \\\"Joe Shmoe, CAA\\\",<br>              ...<br>          },<br>          ...<br>       }<br>   }<br>   ...<br>   ]<br>}</code></pre></div><h4 class=\\\"method\\\">/search/image</h4><p class=\\\"method-description\\\">This method allows you to search for images by sending an Image by HTTP POST</p><div class=\\\"table-container\\\"><table class=\\\"table table-striped\\\"><thead><tr><th>PARAMETERS</th><th>TYPE</th><th>DESCRIPTION</th></tr></thead><tbody><tr><td><code>file</code></td><td>Binary Stream</td><td>A link to a local file to be used in the search</td></tr><tr><td><code>authorization_token</code></td><td>String</td><td>Token issued by authentication</td></tr></tbody></table></div><div class=\\\"example\\\"><h5>Example Query:</h5><pre><code>curl -X POST http://api.imagewiki.org/search/image/ -H \\'Authorization: Token token=0541d7dipfd6249875b751ak12f90085\\' -F \\'@file=path/to/my/file.jpg\\'</code></pre><h5>Example Response:</h5><pre><code>{\\\"closest_match\\\":<br>    {<br>       \\\"id\\\": \\\"6e370qz054on\\\",<br>       \\\"title\\\": \\\"Led Zeppelin at Kennedy Center honors\\\",<br>       \\\"urls\\\": [<br>           \\\"http://www.overthinkingit.com/wp-content/uploads/2013/07/led-zeppelin-banner.jpg\\\",<br>           ...<br>       ],<br>      \\\"ownership_data\\\": {<br>          \\\"author\\\": {<br>              \\\"name\\\": \\\"Joe Shmoe\\\",<br>              \\\"address\\\": \\\"125 Fake St. Fresno CA 90022\\\",<br>              \\\"email\\\": \\\"joe@shmoe.com\\\",<br>              \\\"representative\\\": \\\"Joe Shmoe, CAA\\\",<br>              ...<br>          },<br>          ...<br>       }<br>    }<br>}</code></pre></div><div class=\\\"helped\\\"><span>Was this helpful?</span><div class=\\\"btn btn-primary\\\">Yes</div><div class=\\\"btn btn-default\\\">No</div></div></div></div>\");\n$templateCache.put(\"app/static-pages/contact.html\",\"<div class=\\\"container\\\"><ul class=\\\"breadcrumb\\\"><li><a ui-sref=\\\"home\\\">Home</a></li><li>Contact</li></ul><div class=\\\"static-page\\\"><h2>Want to send us your information in bulk?</h2><p>If you want to ensure that your data is applied to a large collection of images at once, contact us at<a href=\\\"mailto:info@imagewiki.org\\\">info@imagewiki.org</a></p><h2>Contact Us</h2><p><a href=\\\"mailto:info@imagewiki.org\\\">info@imagewiki.org</a></p></div></div>\");\n$templateCache.put(\"app/static-pages/image-identification.html\",\"<div class=\\\"container-fluid liquid-container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 content-main\\\"><div id=\\\"image-identification-page\\\"><div class=\\\"intro\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h1>Imagewiki\\'s identification technology allows copyright holders to be compensated for unlicensed image sharing.</h1><img alt=\\\"How content id technology works\\\" ng-src=\\\"assets/images/how-content-id-technology-works.jpg\\\"><p>Enrolling in our global content identification system puts the control back in the hands of the copyright holders.</p><div class=\\\"line\\\"><div class=\\\"line-box\\\">Building a Fair Ecosystem</div><div class=\\\"horizontal-line\\\"></div></div></div></div></div><div class=\\\"money-left\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Money is being left on the table</h2><p>There are hundreds of billions of page views powered by infringed images going un-monetized every year.</p><p>The only sustainable model for copyright owners to be fairly compensated for online image sharing is to enroll in a global content identification system capable of enforcing pre-set business rules, including monetization through native ads.</p></div></div></div><div class=\\\"our-technology\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-7 col-md-7 col-sm-7 col-xs-7\\\"><h2>Our Technology</h2><p>Imagewiki generates a unique fingerprint for each image that is submitted to our database, which can then be matched with unknown images on the web.</p><p>Online platforms that support images sharing can request image identification through our API in order to verify the legality of images being shared. When images are found that match our contributors\\' content, the management settings chosen by the content owners can be implemented, allowing images to be blocked, tracked or monetized to generate ad revenue.</p></div><div class=\\\"col-lg-5 col-md-5 col-sm-5 col-xs-5\\\"><img alt=\\\"Image analysis\\\" ng-src=\\\"assets/images/image-analysis.jpg\\\"></div></div></div><div class=\\\"future\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Creating the Future of Image Sharing</h2><p>In order to be protected by the safe harbors of the DMCA (Digital Millennium Copyright Act),<strong>Online Service Providers (OSPs) cannot receive any financial benefit directly attributable to infringing activity.</strong></p><p>This means OSPs cannot advertise directly on user generated content unless they identify the media, its owner and its use-policy.</p><p>In the current digital landscape of 2015, more and more advertisers are utilizing \\'Native Ads\\' to better reach users. This is because native advertisements fit functionally into the main page content, making them many times more effective than banner or margin ads. However, native ad revenue will be substantially less for OSPs who cannot expand their advertising reach into user-generated content.</p><p>OSPs can quickly become compliant while increasing advertising revenue by implementing an image identification system like Imagewiki.</p><div class=\\\"horizontal-line\\\"></div></div></div></div><div class=\\\"submit-your-image\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\"><h2>Submit your image collection<br><a ui-sref=\\\"add-images\\\">Learn More</a><br></h2></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/static-pages/privacy-policy.html\",\"<div class=\\\"container\\\"><ul class=\\\"breadcrumb\\\"><li><a ui-sref=\\\"home\\\">Home</a></li><li>Privacy Policy</li></ul><div class=\\\"static-page\\\"><h2>Privacy Policy</h2><h3>Website Privacy Policy&ndash; Effective April 1st, 2014</h3><div class=\\\"pharagrafer\\\"><ol><li><span class=\\\"key_word\\\">Introduction.</span> Imagewiki LLC (&ldquo;us,&rdquo; &ldquo;we,&rdquo; or &ldquo;Company&rdquo;) is committed to respecting the privacy rights of its customers, visitors, and other users of the Imagewiki Website (&ldquo;the Site&rdquo;). We created this Website Privacy Policy (&ldquo;Privacy Policy&rdquo;) to give you confidence as you visit and use the Site, and to demonstrate our commitment to fair information practices and the protection of privacy. This Privacy Policy is only applicable to the Site, and not to any other websites that you may be able to access from the Site, each of which may have data collection, storage, and use practices and policies that differ materially from this Privacy Policy.</li><li><span class=\\\"key_word\\\">Our Information Collection Practices.</span><ol><li><span>The Types of Information we Collect</span><ol type=\\\"a\\\"><li><em>Traffic Data.</em> We automatically track and collect the following categories of information when you visit our Site: (1) IP addresses; (2) domain servers; (3) types of computers accessing the Site; and (4) types of web browsers used to access the Site (collectively &ldquo;Traffic Data&rdquo;). Traffic Data is anonymous information that does not personally identify you but is helpful for marketing purposes or for improving your experience on the Site. We also use &ldquo;cookies&rdquo; to customize content specific to your interests, to ensure that you do not see the same advertisement repeatedly, and to store your password so you do not have to re-enter it each time you visit the Site.</li><li><em>Personal Information.</em> In order for you to access certain services and to purchase products that we offer via the Site, we require you to provide us with certain information that personally identifies you (&ldquo;Personal Information&rdquo;). Personal Information includes the following categories of information: (1) Contact Data (such as your name, mailing address, and e-mail address). We may also ask you your business name (or fictitious business name, if applicable), as well as any unique identifiers to trade organizations, associations or government agencies related to copyright ownership, and descriptive or contextual information relating to images you upload, which may also include personal information.<p>If you communicate with us by e-mail, post messages to any of our chat groups, bulletin boards, or forums, or otherwise complete online forms, surveys, or contest entries, any information provided in such communication may be collected as Personal Information.</p></li><li><em>Cookies.</em> We use &quot;cookies&quot; to keep track of some types of information while you are visiting the Site. Cookies are very small files placed on your computer, and they allow us to count the number of visitors to the Site and distinguish repeat visitors from new visitors. They also allow us to save user preferences and track user trends. We rely on cookies for the proper operation of our website; therefore if your browser is set to reject all cookies, the Site will not function properly. Users who refuse cookies assume all responsibility for any resulting loss of functionality. We do not currently allow third parties to place or read cookies on your browser.</li><li><em>Web Beacons.</em> &quot;Web beacons&quot; (also known as &quot;clear gifs&quot; and &quot;pixel tags&quot;) are small transparent graphic images that are often used in conjunction with cookies in order to further understand how our users interact with our website in order to improve our website and tools. We do not link the Web beacons to any personal information.</li><li><em>Analytics.</em> We may engage third parties to provide web analytics services. Analytics services use cookies to help us analyze how users use the Site. The information generated by the cookie about your use of the Site (including your IP address) will be transmitted to and stored by the third party on servers. The service will use this information for the purpose of evaluating your use of the Site, compiling reports on website activity for our use and providing other services relating to website activity and Internet usage. The service may also transfer this information to third parties where required to do so by law, or where such third parties process the information on the service&rsquo;s behalf. As stated above, you may refuse the use of cookies by selecting the appropriate settings on your browser, however please note that if you do this you may not be able to use the full functionality of the Site. By using the Site, you consent to the processing of data about you by third parties in the manner and for the purposes set out above.</li></ol></li><li><span>How We Use the Information We Collect.</span><ol><li>Company Use of Information. We use Contact Data to send you information about our company or our products or services, or promotional material from some of our partners, or to contact you when necessary. We use your Demographic Data to customize and tailor your experience on the Site, displaying content that we think you might be interested in and according to your preferences.</li><li>Sharing Personal Information. We do not share your information with any third parties. Any and all information we collect is used by Company for the sole purpose of better understanding our users and improving our web services.</li><li>Your Choice Regarding the Collection, Use and Distribution of Personal Information. You may choose not to provide us with any Personal Information. If you make that choice, you can still access and use certain portions of the Site; however you will not be able to access and use those portions of the Site that require your Personal Information. If you do not wish to receive information and promotional material from us or from some of our partners, you may select the appropriate &ldquo;opt-out&rdquo; option each time we ask you for Personal Information.</li><li>Targeted Advertising. We engage in targeted and retargeted advertising in order to drive traffic to our site.&nbsp; Retargeting advertising involves storing cookies in your browser to communicate with third party advertising partners that inform our partners a you have been to the Site.</li><li>Tracking. Except as described in this Privacy Statement, we do not track information about visitors to the Site or share personal information about visitors with third parties. If you send us a &ldquo;Do Not Track&rdquo; request, we will honor that request. However, third parties who receive non-personal data from us are not required to honor browser &ldquo;Do Not Track&rdquo; requests, and we do not control what those third parties may do with the data.<p>We may add subscribe to other advertising methods in the future as well, which will undoubtedly be based on information we collect and cookies, and communicate those to 3rd party advertising channels.</p></li></ol></li></ol></li><li><span class=\\\"key_word\\\">Confidentiality and Security of Personal Information.</span> Except as otherwise provided in this Privacy Policy, we will keep your Personal Information private and will not share it with third parties, unless such disclosure is necessary to: (a) comply with a court order or other legal process; (b) protect our rights or property; or (c) enforce our Terms of Service. Your Personal Information is stored on secure servers that are not accessible by third parties. We provide you with the capability to transmit your Personal Information via secured and encrypted channels if you use a similarly equipped web browser.<ul><li><em>Your ability to Access, Update and Correct Personal Information.</em> We maintain a procedure in order to help you confirm that your Personal Information remains correct and up-to-date. At any time, you may visit your personal profile at [www.imagewiki.org]. Through your personal profile you may review and update your Personal Information that we have already collected.</li><li><em>Public Information.</em> The Site contains links to other websites. We are not responsible for the privacy practices or the content of such websites. We also make chat rooms, forums, message boards, and news groups available to you. Please understand that any information that is disclosed in these areas becomes public information. We have no control over its use and you should exercise caution when deciding to disclose your Personal Information.</li><li><em>Age Restrictions.</em> The Site is not directed to persons under 13. We do not knowingly collect personally identifiable information from children under 13. If a parent or guardian becomes aware that his or her child has provided us with Personal Information without their consent, he or she should contact us at [image.wiki/help]. If we become aware that a child under 13 has provided us with personal information, we will delete such information from our files.</li><li><em>Visitors Outside the United States.</em> The Site and the servers that make this Website available worldwide are located in the United States. The Internet laws in the United States govern all matters relating to the Site. Any information you provide at the Site will be transferred to the United States. By visiting the Site and submitting information, you authorize this transfer, processing and use.</li><li><em>Your California Privacy Rights.</em> Under California Civil Code sections 1798.83-1798.84, California residents are entitled to ask us for a notice describing what categories of Personal Information we share with third parties or corporate affiliates for those third parties or corporate affiliates&rsquo; direct marketing purposes. That notice will identify the categories of information shared and will include a list of the third parties and affiliates with which it was shared, along with their names and addresses. If you are a California resident and would like a copy of this notice, please submit a written request to info@imagewiki.org. In your request, please specify that you want a &ldquo;Your California Privacy Rights Notice&rdquo;. Please allow at least 30 days for a response.</li></ul></li><li><span class=\\\"key_word\\\">Updates and Changes to Our Privacy Policy.</span> We reserve the right, at any time and without notice, to add to, change, update, or modify this Privacy Policy, simply by posting such change, update, or modification on the Site and without any other notice to you. Any such change, update, or modification will be effective immediately upon posting on the Site.</li></ol></div></div></div>\");\n$templateCache.put(\"app/static-pages/terms-of-use.html\",\"<div class=\\\"container\\\"><ul class=\\\"breadcrumb\\\"><li><a ui-sref=\\\"home\\\">Home</a></li><li>Terms of Use</li></ul><div class=\\\"static-page\\\"><h2>Terms of Use</h2><div class=\\\"pharagrafer\\\">This is a binding agreement. By using the Internet site located at www.imagewiki.org (the &ldquo;Site&rdquo;) or any services provided in connection with the Site (the &ldquo;Service&rdquo;) such as the Imagewiki API, you agree to abide by these Terms of Use, as they may be amended by imagewiki LLC (&ldquo;Company,&rdquo; &ldquo;we,&rdquo; &ldquo;us&rdquo; or &ldquo;our&rdquo;) from time to time in its sole discretion. Company will post a notice on the Site any time these Terms of Use have been changed or otherwise updated. It is your responsibility to review these Terms of Use periodically, and if at any time you find these Terms of Use unacceptable, you must immediately leave the Site and cease all use of the Service and the Site.<span>&nbsp;YOU AGREE THAT BY USING THE SERVICE YOU REPRESENT THAT YOU ARE AT LEAST 18 YEARS OLD AND THAT YOU ARE LEGALLY ABLE TO ENTER INTO THIS AGREEMENT</span></div><div class=\\\"pharagrafer\\\"><span>PRIVACY POLICY.</span>&nbsp;We respect your privacy and permit you to control the treatment of your personal information. A complete statement of our current privacy policy can be found by clicking here. Our privacy policy is expressly incorporated into this Agreement by this reference.</div><div class=\\\"pharagrafer\\\"><span>PASSWORDS.</span> When you are required to open an account to use or access the Site or Service, you must complete the registration process by providing the complete and accurate information requested on the registration form. You will also be asked to provide a user name and password. You are entirely responsible for maintaining the confidentiality of your password. You may not use the account, username, or password of someone else at any time. You agree to notify Company immediately on any unauthorized use of your account, user name, or password. Company shall not be liable for any loss that you incur as a result of someone else using your password, either with or without your knowledge. You may be held liable for any losses incurred by Company, its affiliates, officers, directors, employees, consultants, agents, and representatives due to someone else&rsquo;s use of your account or password.</div><div class=\\\"pharagrafer\\\"><span>USE OF SOFTWARE.</span> Company may make certain software available to you from the Site. If you download software from the Site, the software, including all files and images contained in or generated by the software, and accompanying data (collectively, &ldquo;Software&rdquo;) are deemed to be licensed to you by Company, for &#x7;your&#x8; &#x7;use only&#x8;. Company does not transfer either the title or the intellectual property rights to the Software, and Company retains full and complete title to the Software as well as all intellectual property rights therein. You may not sell, redistribute, or reproduce the Software, nor may you decompile, reverse-engineer, disassemble, or otherwise convert the Software to a human-perceivable form. All trademarks and logos are owned by Company or its licensors and you may not copy or use them in any manner.</div><div class=\\\"pharagrafer\\\">You may not link to Site or the Service to third party websites, and we reserve the right to disable links from third party sites to the website. You may not, and may not allow others, to perform meta-searches of the Site or the Service, or send automated queries to the Site or the Service.</div><h2>USER CONTENT.</h2><div class=\\\"pharagrafer\\\">&#x7;Company&#x8; is dedicated to encouraging the growth, development and distribution of free information surrounding images, and to hosting the full content of Site for the public free of charge. Our role is to host the largest collaboratively edited image ownership reference database. However, we act only as a hosting service, maintaining the infrastructure and organizational framework that allows our users to build the Site by contributing and editing content themselves. Because of our unique role, there are a couple of things you should be aware of when considering our relationship to you, the Site, and the other users:</div><div class=\\\"pharagrafer\\\"><ul class=\\\"rules\\\"><li>We do not take an editorial role: Because the Site is collaboratively edited, all of the content that we host is provided by users like yourself, and we do not take an editorial role. This means that we generally do not monitor or edit the content of the Site, and we do not take any responsibility for this content. Similarly, we do not endorse any opinions expressed via our services, and we do not represent or guarantee the truthfulness, accuracy, or reliability of any submitted community content. Instead, we simply provide access to the content that your fellow users have contributed and edited. In some cases where the authenticity of information added to Site can be verified by Company, Company may remove future edit functionality. &#x9;</li><li>You are responsible for your own actions: You are legally responsible for your edits and contributions on the Site, so for your own protection you should exercise caution and avoid contributing any content that may result in criminal or civil liability under any applicable laws. For clarity, applicable law includes at least the laws of the United States of America. Although we may not agree with such actions, we warn editors and contributors that authorities may seek to apply other country laws to you, including local laws where you live or where you view or edit content. Company generally cannot offer any protection, guarantee, immunity or indemnification.</li></ul></div><div class=\\\"pharagrafer\\\">Company does not claim ownership of content you submit or make available for inclusion on the Site (User Content), which may include photos, graphics, image files or text. However, you grant Company the ability to make User Content publicly accessible on the Site or Service and thus you grant Company the worldwide, royalty-free and non-exclusive license(s) to distribute, reproduce, modify, publicly perform and publicly display such User Content on the Site, solely for the purposes of providing the functionality&nbsp;of the Site or Service. This license exists only for as long as you elect to continue to include User Content on the Site and will terminate at the time you remove or Company removes User Content from the &#x7;Site&#x8;</div><div class=\\\"pharagrafer\\\">You agree that (a) User Content does not contain confidential or proprietary information; (b) Company is not under any obligation of confidentiality, express or implied, with respect to such User Content.</div><div class=\\\"pharagrafer\\\">You agree that Company may publish or otherwise disclose your name in connection with your User Content. By posting User Content on the Site or Service, you warrant and represent that you own the rights to the User Content or are otherwise authorized to post, distribute, display, perform, transmit, or otherwise distribute User Content.</div><div class=\\\"pharagrafer\\\"><span>COMPLIANCE WITH INTELLECTUAL PROPERTY LAWS.</span> When accessing the Site or using the Service, you agree to obey the law and to respect the intellectual property rights of others. Your use of the Service and the Site is at all times governed by and subject to laws regarding copyright ownership and use of intellectual property. You agree not to upload, download, display, perform, transmit, or otherwise distribute any information or content (collectively, &ldquo;Content&rdquo;) in violation of any third party&rsquo;s copyrights, trademarks, or other intellectual property or proprietary rights. You agree to abide by laws regarding copyright ownership and use of intellectual property, and you shall be solely responsible for any violations of any relevant laws and for any infringements of third party rights caused by any Content you provide or transmit, or that is provided or transmitted using your User ID. The burden of proving that any Content does not violate any laws or third party rights rests solely with you.</div><div class=\\\"pharagrafer\\\"><span>INAPPROPRIATE CONTENT.</span> You shall not make the following types of Content available. You agree not to upload, download, display, perform, transmit, or otherwise distribute any Content that (a) is libelous, defamatory, obscene, pornographic, abusive, or threatening; (b) advocates or encourages conduct that could constitute a criminal offense, give rise to civil liability, or otherwise violate any applicable local, state, national, or foreign law or regulation; or (c) advertises or otherwise solicits funds or is a solicitation for goods or services. Company reserves the right to terminate your receipt, transmission, or other distribution of any such material using the Service, and, if applicable, to delete any such material from its servers. Company intends to cooperate fully with any law enforcement officials or agencies in the investigation of any violation of these Terms of Use or of any applicable laws.</div><div class=\\\"pharagrafer\\\">You may not use the Site or Service to engage in surveys, contests, pyramid schemes, chain letters, junk mail, spam, or unsolicited messages. You further agree that you will not upload any Content that contains viruses, Trojan horses, worms, time bombs, cancelbots, corrupted files, or similar software. While you may attach metatags to the content you upload, you may not use metatag searches of the Site or the Service or creating a false identity for the purpose of misleading others. We may establish limits on the size of images or other Content you upload to the Site, or amount of Content you upload to the Site.</div><div class=\\\"pharagrafer\\\"><span>COPYRIGHT INFRINGEMENT.</span> Company has in place certain legally mandated procedures regarding allegations of copyright infringement occurring on the Site or with the Service. Company has adopted a policy that provides for the immediate suspension and/or termination of any Site or Service user who is found to have infringed on the rights of Company or of a third party, or otherwise violated any intellectual property laws or regulations. Company&rsquo;s policy is to investigate any allegations of copyright infringement brought to its attention. If you have evidence, know, or have a good faith belief that your rights or the rights of a third party have been violated and you want Company to delete, edit, or disable the material in question, you must provide Company with all of the following information: (a) a physical or electronic signature of a person authorized to act on behalf of the owner of the exclusive right that is allegedly infringed; (b) identification of the copyrighted work claimed to have been infringed, or, if multiple copyrighted works are covered by a single notification, a representative list of such works; (c) identification of the material that is claimed to be infringed or to be the subject of infringing activity and that is to be removed or access to which is to be disabled, and information reasonably sufficient to permit Company to locate the material; (d) information reasonably sufficient to permit Company to contact you, such as an address, telephone number, and if available, an electronic mail address at which you may be contacted; (e) a statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law; and (f) a statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. For this notification to be effective, you must provide it to Company&rsquo;s designated agent at:</div><div class=\\\"pharagrafer\\\"><ul><li>Imagewiki</li><li>www.imagewiki.org</li><li>info@imagewiki.org</li></ul></div><div class=\\\"pharagrafer\\\">ALLEGED VIOLATIONS. Company reserves the right to terminate your use of the Service or the Site, or both. To ensure that Company provides a high quality experience for you and for other users of the Site and the Service, you agree that Company or its representatives may access your account and records on a case-by-case basis to investigate complaints or allegations of abuse, infringement of third party rights, or other unauthorized uses of the Site or the Service. Company does not intend to disclose the existence or occurrence of such an investigation unless required by law, but Company reserves the right to terminate your account or your access to the Site immediately, with or without notice to you, and without liability to you, if Company believes that you have violated any of the Terms of Use, furnished Company with false or misleading information, or interfered with use of the Site or the Service by others.</div><div class=\\\"pharagrafer\\\">NO WARRANTIES. COMPANY HEREBY DISCLAIMS ALL WARRANTIES. COMPANY IS MAKING THE SITE AND SERVICE AVAILABLE &ldquo;AS IS&rdquo; WITHOUT WARRANTY OF ANY KIND. YOU ASSUME THE RISK OF ANY AND ALL DAMAGE OR LOSS FROM USE OF, OR INABILITY TO USE, THE SITE OR THE SERVICE. TO THE MAXIMUM EXTENT PERMITTED BY LAW, COMPANY EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS OR IMPLIED, REGARDING THE SITE, INCLUDING, BUT NOT LIMITED TO, ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NONINFRINGEMENT. COMPANY DOES NOT WARRANT THAT THE SITE OR THE SERVICE WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE SITE OR THE SERVICE WILL BE UNINTERRUPTED OR ERROR-FREE.</div><div class=\\\"pharagrafer\\\">LIMITED LIABILITY. COMPANY&rsquo;S LIABILITY TO YOU IS LIMITED. TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL COMPANY BE LIABLE FOR DAMAGES OF ANY KIND (INCLUDING, BUT NOT LIMITED TO, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, LOST PROFITS, OR LOST DATA, REGARDLESS OF THE FORESEEABILITY OF THOSE DAMAGES) ARISING OUT OF OR IN CONNECTION WITH YOUR USE OF THE SITE OR ANY OTHER MATERIALS OR SERVICES PROVIDED TO YOU BY COMPANY. This limitation shall apply regardless of whether the damages arise out of breach of contract, tort, or any other legal theory or form of action.</div><div class=\\\"pharagrafer\\\"><span>AFFILIATED SITES.</span> Company has no control over, and no liability for any third party websites or materials. Company works with a number of partners and affiliates whose Internet sites may be linked with the Site. Because neither Company nor the Site has control over the content and performance of these partner and affiliate sites, Company makes no guarantees about the accuracy, currency, content, or quality of the information provided by such sites, and Company assumes no responsibility for unintended, objectionable, inaccurate, misleading, or unlawful content that may reside on those sites. Similarly, from time to time in connection with your use of the Site, you may have access to content items (including, but not limited to, websites) that are owned by third parties. You acknowledge and agree that Company makes no guarantees about, and assumes no responsibility for, the accuracy, currency, content, or quality of this third party content, and that, unless expressly provided otherwise, these Terms of Use shall govern your use of any and all third party content.</div><div class=\\\"pharagrafer\\\"><span>PROHIBITED USES.</span> Company imposes certain restrictions on your permissible use of the Site and the Service. You are prohibited from violating or attempting to violate any security features of the Site or Service, including, without limitation, (a) accessing content or data not intended for you, or logging onto a server or account that you are not authorized to access; (b) attempting to probe, scan, or test the vulnerability of the Service, the Site, or any associated system or network, or to breach security or authentication measures without proper authorization; (c) interfering or attempting to interfere with service to any user, host, or network, including, without limitation, by means of submitting a virus to the Site or Service, overloading, &ldquo;flooding,&rdquo; &ldquo;spamming,&rdquo; &ldquo;mail bombing,&rdquo; or &ldquo;crashing;&rdquo; (d) using the Site or Service to send unsolicited e-mail, including, without limitation, promotions, or advertisements for products or services; (e) forging any TCP/IP packet header or any part of the header information in any e-mail or in any posting using the Service; or (f) attempting to modify, reverse-engineer, decompile, disassemble, or otherwise reduce or attempt to reduce to a human-perceivable form any of the source code used by Company in providing the Site or Service. Any violation of system or network security may subject you to civil and/or criminal liability.</div><div class=\\\"pharagrafer\\\"><span>INDEMNITY.</span> You agree to indemnify Company for certain of your acts and omissions. You agree to indemnify, defend, and hold harmless Company, its affiliates, officers, directors, employees, consultants, agents, and representatives from any and all third party claims, losses, liability, damages, and/or costs (including reasonable attorney fees and costs) arising from your access to or use of the Site, your violation of these Terms of Use, or your infringement, or infringement by any other user of your account, of any intellectual property or other right of any person or entity. Company will notify you promptly of any such claim, loss, liability, or demand, and will provide you with reasonable assistance, at your expense, in defending any such claim, loss, liability, damage, or cost.</div><div class=\\\"pharagrafer\\\">COPYRIGHT AND TRADEMARK. All contents of Site or Service are: Copyright &copy; 2015 IMAGEWIKI, LLC, www.imagewiki.org. All rights reserved.&#x8; Although you have considerable freedoms for re-use of the information on the Site, it is important that we protect our trademark rights so that Company can protect its users from fraudulent impersonators. Because of this, we ask that you please respect our trademarks. All Imagewiki trademarks belong to Imagewiki, and any use of our trade names, trademarks, service marks, logos, or domain names must be in compliance with these Terms of Use.</div><div class=\\\"pharagrafer\\\"><span>GOVERNING LAW.</span> These Terms of Use shall be construed in accordance with and governed by the laws of the United States and the State of California, without reference to their rules regarding conflicts of law. You hereby irrevocably consent to the exclusive jurisdiction of the state or federal courts in Los Angeles, California in all disputes arising out of or related to the use of the Site or Service.</div><div class=\\\"pharagrafer\\\"><span>SEVERABILITY; WAIVER.</span> If, for whatever reason, a court of competent jurisdiction finds any term or condition in these Terms of Use to be unenforceable, all other terms and conditions will remain unaffected and in full force and effect. No waiver of any breach of any provision of these Terms of Use shall constitute a waiver of any prior, concurrent, or subsequent breach of the same or any other provisions hereof, and no waiver shall be effective unless made in writing and signed by an authorized representative of the waiving party.</div><div class=\\\"pharagrafer\\\"><span>NO LICENSE.</span> Nothing contained on the Site should be understood as granting you a license to use any of the trademarks, service marks, or logos owned by Company or by any third party.</div><div class=\\\"pharagrafer\\\"><span>CALIFORNIA USE ONLY.</span> The Site is controlled and operated by Company from its offices in the State of California. Company makes no representation that any of the materials or the services to which you have been given access is available or appropriate for use in other locations. Your use of or access to the Site should not be construed as Company&rsquo;s purposefully availing itself of the benefits or privilege of doing business in any state or jurisdiction other than California.</div><div class=\\\"pharagrafer\\\"><span>MODIFICATIONS.</span> Company may, in its sole discretion and without prior notice, (a) revise these Terms of Use; (b) modify the Site or the Service; and (c) discontinue the Site and/or Service at any time. Company shall post any revision to these Terms of Use to the Site, and the revision shall be effective immediately on such posting. You agree to review these Terms of Use and other online policies posted on the Site periodically to be aware of any revisions. You agree that, by continuing to use or access the Site following notice of any revision, you shall abide by any such revision. This agreement constitutes the entire agreement between the parties.</div><div class=\\\"pharagrafer\\\">BY USING THE SERVICE OR ACCESSING THE SITE, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF USE AND AGREE TO BE BOUND BY THEM.</div></div></div>\");\n$templateCache.put(\"app/users/password-recovery.html\",\"<div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><ul class=\\\"breadcrumb\\\"><li><a ui-sref=\\\"home\\\">Home</a></li><li>Password Recovery</li></ul><form id=\\\"password_recovery\\\" name=\\\"passwordRecoveryForm\\\" ng-submit=\\\"recover(user)\\\" novalidate=\\\"\\\" autocomplete=\\\"off\\\" class=\\\"form-horizontal\\\"><div ng-class=\\\"{ \\'has-error\\' : passwordRecoveryForm.email.$invalid &amp;&amp; !passwordRecoveryForm.email.$pristine }\\\" class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-lg-3 control-label\\\">Email:</label><div class=\\\"col-lg-9\\\"><input id=\\\"email\\\" name=\\\"email\\\" type=\\\"email\\\" value=\\\"\\\" ng-model=\\\"user.email\\\" required=\\\"\\\" class=\\\"form-control\\\"></div></div><div class=\\\"float-right\\\"><input name=\\\"commit\\\" type=\\\"submit\\\" value=\\\"Recover password\\\" class=\\\"btn btn-primary\\\"></div></form></div></div></div>\");\n$templateCache.put(\"app/users/password-reset.html\",\"<div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><ul class=\\\"breadcrumb\\\"><li><a ui-sref=\\\"home\\\">Home</a></li><li>Password Reset</li></ul><form id=\\\"reset_password\\\" name=\\\"resetPasswordForm\\\" ng-submit=\\\"resetPassword(user)\\\" novalidate=\\\"\\\" autocomplete=\\\"off\\\" class=\\\"form-horizontal\\\"><div ng-class=\\\"{ \\'has-error\\' : resetPasswordForm.password.$invalid &amp;&amp; !resetPasswordForm.password.$pristine }\\\" class=\\\"form-group\\\"><label for=\\\"password\\\" class=\\\"col-lg-3 control-label\\\">New Password:</label><div class=\\\"col-lg-9\\\"><input id=\\\"password\\\" name=\\\"password\\\" type=\\\"password\\\" value=\\\"\\\" ng-model=\\\"user.password\\\" required=\\\"\\\" class=\\\"form-control\\\"></div></div><div ng-class=\\\"{ \\'has-error\\' : resetPasswordForm.password_confirmation.$invalid &amp;&amp; !resetPasswordForm.password_confirmation.$pristine }\\\" class=\\\"form-group\\\"><label for=\\\"password_confirmation\\\" class=\\\"col-lg-3 control-label\\\">Confirm Password:</label><div class=\\\"col-lg-9\\\"><input id=\\\"password_confirmation\\\" name=\\\"password_confirmation\\\" type=\\\"password\\\" value=\\\"\\\" ng-model=\\\"user.password_confirmation\\\" required=\\\"\\\" class=\\\"form-control\\\"></div></div><div class=\\\"float-right\\\"><input name=\\\"commit\\\" type=\\\"submit\\\" value=\\\"Reset password\\\" class=\\\"btn btn-primary\\\"></div></form></div></div></div>\");\n$templateCache.put(\"app/users/profile-edit.html\",\"<div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><ng-include src=\\\"\\'app/users/user-nav-tabs.html\\'\\\"></ng-include><form id=\\\"edit_user\\\" name=\\\"profileEditForm\\\" ng-submit=\\\"update(user)\\\" novalidate=\\\"\\\" autocomplete=\\\"off\\\" class=\\\"form-horizontal\\\"><div ng-class=\\\"{ \\'has-error\\' : profileEditForm.first_name.$invalid &amp;&amp; !profileEditForm.first_name.$pristine }\\\" class=\\\"form-group\\\"><label for=\\\"first_name\\\" class=\\\"col-lg-3 control-label\\\">First Name:</label><div class=\\\"col-lg-9\\\"><input id=\\\"first_name\\\" name=\\\"first_name\\\" type=\\\"text\\\" ng-model=\\\"user.first_name\\\" required=\\\"\\\" class=\\\"form-control\\\"></div></div><div ng-class=\\\"{ \\'has-error\\' : profileEditForm.last_name.$invalid &amp;&amp; !profileEditForm.last_name.$pristine }\\\" class=\\\"form-group\\\"><label for=\\\"last_name\\\" class=\\\"col-lg-3 control-label\\\">Last Name:</label><div class=\\\"col-lg-9\\\"><input id=\\\"last_name\\\" name=\\\"last_name\\\" type=\\\"text\\\" ng-model=\\\"user.last_name\\\" required=\\\"\\\" class=\\\"form-control\\\"></div></div><div ng-class=\\\"{ \\'has-error\\' : profileEditForm.email.$invalid &amp;&amp; !profileEditForm.email.$pristine }\\\" class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-lg-3 control-label\\\">Email:</label><div class=\\\"col-lg-9\\\"><input id=\\\"email\\\" name=\\\"email\\\" type=\\\"email\\\" value=\\\"\\\" ng-model=\\\"user.email\\\" required=\\\"\\\" class=\\\"form-control\\\"></div></div><div ng-class=\\\"{ \\'has-error\\' : profileEditForm.password_confirmation.$error.match }\\\" class=\\\"form-group\\\"><label for=\\\"password\\\" class=\\\"col-lg-3 control-label\\\">Password:</label><div class=\\\"col-lg-7\\\"><input id=\\\"password\\\" name=\\\"password\\\" type=\\\"password\\\" ng-model=\\\"user.password\\\" autocomplete=\\\"off\\\" value=\\\"\\\" class=\\\"form-control\\\"><i>(leave blank if you don&apos;t want to change it)</i></div></div><div ng-class=\\\"{ \\'has-error\\' : profileEditForm.password_confirmation.$error.match }\\\" class=\\\"form-group\\\"><label for=\\\"password_confirmation\\\" class=\\\"col-lg-3 control-label\\\">Password confirmation</label><div class=\\\"col-lg-7\\\"><input id=\\\"password_confirmation\\\" name=\\\"password_confirmation\\\" type=\\\"password\\\" ng-model=\\\"user.password_confirmation\\\" data-match=\\\"user.password\\\" class=\\\"form-control\\\"></div></div><div class=\\\"float-right\\\"><input name=\\\"commit\\\" type=\\\"submit\\\" value=\\\"Update\\\" class=\\\"btn btn-primary\\\"></div></form></div></div>\");\n$templateCache.put(\"app/users/user-default.html\",\"<div id=\\\"user-defaults\\\" class=\\\"row\\\"><div class=\\\"col-lg-10 col-md-10 col-sm-12 col-xs-12 col-lg-offset-1 col-md-offset-1\\\"><ng-include src=\\\"\\'app/users/user-nav-tabs.html\\'\\\"></ng-include><div class=\\\"alert alert-warning\\\">This information will automatically placed on each new image you upload. You can always edit images individually or in bulk as well.</div><form id=\\\"edit_user\\\" name=\\\"userDefaultForm\\\" ng-submit=\\\"updateUserDefaults(userDefaults)\\\" novalidate=\\\"\\\" autocomplete=\\\"off\\\" class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><label for=\\\"creator.creator_name\\\" class=\\\"col-lg-3 control-label\\\">Creator Name:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'creator.creator_name\\'\\\" ng-model=\\\"userDefaults.default_values.creator.creator_name\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"creator.email\\\" class=\\\"col-lg-3 control-label\\\">Creator Email:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'creator.email\\'\\\" ng-model=\\\"userDefaults.default_values.creator.email\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"creator.site_url\\\" class=\\\"col-lg-3 control-label\\\">Creator website:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'creator.site_url\\'\\\" ng-model=\\\"userDefaults.default_values.creator.site_url\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"credit_byline\\\" class=\\\"col-lg-3 control-label\\\">Credit Byline:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'credit_byline\\'\\\" ng-model=\\\"userDefaults.default_values.credit_byline\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"license_type_id\\\" class=\\\"col-lg-3 control-label\\\">License Type Options:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'select\\'\\\" name=\\\"\\'license_type_id\\'\\\" ng-model=\\\"userDefaults.default_values.license_type_id\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"licensing_rep.licensing_rep_name\\\" class=\\\"col-lg-3 control-label\\\">Licensing Representative:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'licensing_rep.licensing_rep_name\\'\\\" ng-model=\\\"userDefaults.default_values.licensing_rep.licensing_rep_name\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"licensing_rep.site_url\\\" class=\\\"col-lg-3 control-label\\\">Licensing Website:</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'text\\'\\\" name=\\\"\\'licensing_rep.site_url\\'\\\" ng-model=\\\"userDefaults.default_values.licensing_rep.site_url\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"licensing_rep.is_exclusive\\\" class=\\\"col-lg-3 control-label\\\">Exclusive Representation?</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'licensing_rep.is_exclusive\\'\\\" ng-model=\\\"userDefaults.default_values.licensing_rep.is_exclusive\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"is_royalty_free\\\" class=\\\"col-lg-3 control-label\\\">Royalty Free?</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'is_royalty_free\\'\\\" ng-model=\\\"userDefaults.default_values.is_royalty_free\\\"></editable-field></div></div><div class=\\\"form-group\\\"><label for=\\\"is_rights_managed\\\" class=\\\"col-lg-3 control-label\\\">Rights Managed?</label><div class=\\\"col-lg-9\\\"><editable-field type=\\\"\\'boolean\\'\\\" name=\\\"\\'is_rights_managed\\'\\\" ng-model=\\\"userDefaults.default_values.is_rights_managed\\\"></editable-field></div></div><div class=\\\"float-right\\\"><input name=\\\"commit\\\" type=\\\"submit\\\" value=\\\"Update\\\" class=\\\"btn btn-primary\\\"></div></form></div></div>\");\n$templateCache.put(\"app/users/user-nav-tabs.html\",\"<ul class=\\\"nav nav-tabs user-nav-tabs\\\"><li role=\\\"presentation\\\" ui-sref-active=\\\"active\\\"><a ui-sref=\\\"bulk-upload\\\">My Images</a></li><li role=\\\"presentation\\\" ui-sref-active=\\\"active\\\"><a ui-sref=\\\"user-default\\\">Image Defaults</a></li><li role=\\\"presentation\\\" ui-sref-active=\\\"active\\\"><a ui-sref=\\\"profile-edit\\\">My Account</a></li></ul>\");\n$templateCache.put(\"app/components/editable-field/boolean-input.html\",\"<div class=\\\"btn-group\\\"><label for=\\\"{{ name }}-yes\\\" ng-class=\\\"{ active: field == true }\\\" class=\\\"btn btn-default\\\"><input ng-hide=\\\"true\\\" type=\\\"radio\\\" id=\\\"{{ name }}-yes\\\" name=\\\"{{ name }}\\\" ng-value=\\\"true\\\" ng-model=\\\"field\\\">YES</label><label for=\\\"{{ name }}-no\\\" ng-class=\\\"{ active: field == false }\\\" class=\\\"btn btn-default\\\"><input ng-hide=\\\"true\\\" type=\\\"radio\\\" id=\\\"{{ name }}-no\\\" name=\\\"{{ name }}\\\" ng-value=\\\"false\\\" ng-model=\\\"field\\\">NO</label></div>\");\n$templateCache.put(\"app/components/editable-field/editable-field.html\",\"<div id=\\\"image-name\\\" ng-class=\\\"type\\\" class=\\\"add-edit-container owner-info-row\\\"><span ng-click=\\\"showEdit()\\\" ng-hide=\\\"showField\\\" class=\\\"add-edit-toggle\\\">[<a>Add / Edit</a>]</span><div class=\\\"add-edit-block\\\"><span ng-hide=\\\"showField\\\" class=\\\"add-edit-label\\\">{{ label }}</span><div ng-show=\\\"showField\\\" class=\\\"add-edit-field\\\"><span ng-if=\\\"textInput\\\"><input type=\\\"{{ type }}\\\" name=\\\"{{ name }}\\\" ng-model=\\\"value.initial\\\" class=\\\"form-control ownership_field\\\"></span><span ng-if=\\\"type == \\'boolean\\'\\\"><boolean-input name=\\\"name\\\" field=\\\"value.initial\\\"></boolean-input></span><span ng-if=\\\"type == \\'array\\'\\\"><tags-input ng-model=\\\"value.tags\\\" on-tag-added=\\\"updateTags($tag)\\\" on-tag-removed=\\\"updateTags($tag)\\\" class=\\\"bootstrap-tags-input\\\"></tags-input></span><span ng-if=\\\"type == \\'select\\'\\\"><select-input field=\\\"value.initial\\\" name=\\\"name\\\"></select-input></span><span ng-if=\\\"type == \\'pbr-select\\'\\\"><pbr-select field=\\\"value.initial\\\" name=\\\"name\\\"></pbr-select></span><span ng-if=\\\"type == \\'date\\'\\\"><div style=\\\"display: inline-block;\\\" class=\\\"dropdown\\\"><a role=\\\"button\\\" data-toggle=\\\"dropdown\\\" id=\\\"{{ datepicker_name }}\\\" class=\\\"dropdown-toggle\\\"><div class=\\\"input-group\\\"><input type=\\\"text\\\" ng-model=\\\"value.initial\\\" class=\\\"form-control\\\"><span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></span></div></a><ul role=\\\"menu\\\" aria-labelledby=\\\"dLabel\\\" class=\\\"dropdown-menu\\\"><datetimepicker ng-model=\\\"value.initial\\\" data-on-set-time=\\\"onTimeSet(newDate, oldDate)\\\" data-datetimepicker-config=\\\"{ startView: \\'day\\', minView: \\'day\\', dropdownSelector: datepicker_name }\\\"></datetimepicker></ul></div></span>&nbsp;<span ng-click=\\\"cancelEdit()\\\" class=\\\"glyphicon glyphicon-remove field-cancel\\\"></span><span ng-click=\\\"saveEdit()\\\" class=\\\"glyphicon glyphicon-ok field-save\\\"></span></div></div></div>\");\n$templateCache.put(\"app/components/editable-field/pbr-select.html\",\"<select ng-options=\\\"option.text for option in options track by option.id\\\" ng-model=\\\"field\\\"></select>\");\n$templateCache.put(\"app/components/editable-field/select-input.html\",\"<select ng-options=\\\"option.text for option in options track by option.id\\\" ng-model=\\\"field\\\"></select>\");\n$templateCache.put(\"app/components/context-menu/context-menu.html\",\"<div class=\\\"menu\\\"><a ng-click=\\\"toggleOpenMenu()\\\" class=\\\"menu-icon\\\"><div class=\\\"icon\\\"></div></a><div class=\\\"navigation\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 menu-title\\\"><a ui-sref=\\\"home\\\"><img ng-src=\\\"assets/images/icon_blue.png\\\"></a></div></div><nav class=\\\"menu-links\\\"><div ng-click=\\\"toggleOpenMenu()\\\" class=\\\"row\\\"><div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-4\\\"><a ui-sref=\\\"about\\\">MISSION</a></div><div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-4\\\"><a href=\\\"http://docs.api.image.wiki/swagger_ui_iw/dist/\\\" target=\\\"_blank\\\">DEVELOPERS</a></div><div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-4\\\"><a ui-sref=\\\"contact\\\">CONTACT</a></div></div></nav></div></div></div>\");\n$templateCache.put(\"app/components/image-violation/image-violation.html\",\"<div class=\\\"image-violation pull-right\\\"><label for=\\\"violation-check\\\" class=\\\"link\\\"><i class=\\\"fa fa-flag\\\"></i></label><input id=\\\"violation-check\\\" type=\\\"checkbox\\\" ng-model=\\\"visible\\\"><div class=\\\"image-violation-form\\\"><span class=\\\"up-arrow\\\"></span><div class=\\\"title\\\">Why do you flagging this image?</div><div class=\\\"box-violations\\\"><div class=\\\"form-violations\\\"><p><strong>Please enter any relevant comments in the field below, including your contact information if applicable:</strong></p><div class=\\\"radio\\\"><label><input id=\\\"reason_Infringing_content\\\" ng-model=\\\"violation.violation_reason_id\\\" type=\\\"radio\\\" value=\\\"Infringement\\\">Infringing content&nbsp;<span data-placement=\\\"right\\\" data-toggle=\\\"tooltip\\\" title=\\\"This page contains content that infringes on my copyright, privacy, or other legal rights.\\\" class=\\\"badge\\\"><i class=\\\"fa fa-question\\\"></i></span></label></div><div class=\\\"radio\\\"><label><input id=\\\"reason_Sexual_content\\\" ng-model=\\\"violation.violation_reason_id\\\" type=\\\"radio\\\" value=\\\"Sexual\\\">Sexual content&nbsp;<span data-placement=\\\"right\\\" data-toggle=\\\"tooltip\\\" title=\\\"This image or page contains sexual or pornographic content.\\\" class=\\\"badge\\\"><i class=\\\"fa fa-question\\\"></i></span></label></div><div class=\\\"radio\\\"><label><input id=\\\"reason_Hateful_or_violent_content\\\" ng-model=\\\"violation.violation_reason_id\\\" type=\\\"radio\\\" value=\\\"Hateful-Violent\\\">Hateful or violent content&nbsp;<span data-placement=\\\"right\\\" data-toggle=\\\"tooltip\\\" title=\\\"This image or page contains violent, shocking or abusive content, or contains content that promotes hatred against certain groups or individuals.\\\" class=\\\"badge\\\"><i class=\\\"fa fa-question\\\"></i></span></label></div><div class=\\\"radio\\\"><label><input id=\\\"reason_Child_abuse\\\" ng-model=\\\"violation.violation_reason_id\\\" type=\\\"radio\\\" value=\\\"Child-Abuse\\\">Child abuse&nbsp;<span data-placement=\\\"right\\\" data-toggle=\\\"tooltip\\\" title=\\\"This page contains sexual images of minors or predatory communications towards minors.\\\" class=\\\"badge\\\"><i class=\\\"fa fa-question\\\"></i></span></label></div><div class=\\\"radio\\\"><label><input id=\\\"reason_Spam\\\" ng-model=\\\"violation.violation_reason_id\\\" type=\\\"radio\\\" value=\\\"Spam\\\">Spam&nbsp;<span data-placement=\\\"right\\\" data-toggle=\\\"tooltip\\\" title=\\\"This page contains misleading or massively posted content.\\\" class=\\\"badge\\\"><i class=\\\"fa fa-question\\\"></i></span></label></div><br><label for=\\\"description\\\">Comments</label><br><textarea id=\\\"description\\\" ng-model=\\\"violation.violation_comments\\\" class=\\\"form-control\\\"></textarea><br><br><div vc-recaptcha=\\\"\\\" theme=\\\"\\'light\\'\\\" key=\\\"model.key\\\" on-create=\\\"setWidgetId(widgetId)\\\" on-success=\\\"setResponse(response)\\\" on-expire=\\\"cbExpiration()\\\" class=\\\"pull-left\\\"></div><input name=\\\"commit\\\" type=\\\"button\\\" value=\\\"Send\\\" ng-click=\\\"reportViolation(violation)\\\" class=\\\"send-form-violations btn btn-primary pull-right\\\"></div></div></div></div>\");\n$templateCache.put(\"app/components/images-wall/images-wall.html\",\"<div id=\\\"{{selector}}\\\" class=\\\"images clearfix\\\"><div ng-repeat=\\\"image in images\\\" ng-click=\\\"selectImage(image)\\\" class=\\\"image col-lg-2 col-md-4 col-sm-6 col-xs-12\\\"><div class=\\\"image-controls clearfix\\\"><a ui-sref=\\\"image-ownership({ hashid: image.image_id })\\\" target=\\\"_blank\\\" class=\\\"pull-left fa fa-eye\\\"></a><a ng-class=\\\"{\\'fa-square\\':!selected[image.image_id], \\'fa-check-square\\':selected[image.image_id]}\\\" ng-if=\\\"selectable\\\" class=\\\"fa\\\"></a></div><div class=\\\"img\\\"><img ng-src=\\\"{{ image.reference_file_path }}\\\"></div></div></div><div ng-if=\\\"selectable\\\" class=\\\"clearfix images-pagination\\\"><a ng-click=\\\"changePage(page-1)\\\" ng-hide=\\\"isFirstPage\\\" class=\\\"btn btn-default pull-left\\\"><span class=\\\"glyphicon glyphicon-chevron-left\\\"></span>&nbsp;Prev</a><span class=\\\"label label-default current-page\\\">{{ page }}</span><a ng-click=\\\"changePage(page+1)\\\" ng-hide=\\\"isLastPage\\\" class=\\\"btn btn-default pull-right\\\">Next&nbsp;<span class=\\\"glyphicon glyphicon-chevron-right\\\"></span></a></div>\");\n$templateCache.put(\"app/components/search-block/search-block.html\",\"<div class=\\\"search-bar\\\"><form id=\\\"new_search\\\" name=\\\"searchForm\\\" ng-submit=\\\"searchImage(url, image)\\\" novalidate=\\\"\\\" class=\\\"form-horizontal frm-image\\\"><div id=\\\"new-search-block\\\"><div class=\\\"reverse-search\\\"><div class=\\\"clearfix\\\"><div data-toggle=\\\"tooltip\\\" title=\\\"Reverse search images here\\\" class=\\\"form-group has-feedback pull-left has-tooltip\\\"><label class=\\\"sr-only\\\">Type keywords to find an image, or paste URL</label><input id=\\\"search_description\\\" name=\\\"search[description]\\\" placeholder=\\\"Reverse search by pasting a url\\\" type=\\\"text\\\" ng-model=\\\"url\\\" ng-change=\\\"previewImage(url)\\\" class=\\\"form-control\\\"><span ngf-select=\\\"\\\" ng-model=\\\"image\\\" ngf-accept=\\\"\\'image/*\\'\\\" ng-click=\\\"setOption(\\'upload\\')\\\" ngf-change=\\\"previewImg($files, $file, $event, $rejectedFiles)\\\" class=\\\"glyphicon glyphicon-camera form-control-feedback\\\"></span><span aria-hidden=\\\"true\\\" class=\\\"fa fa-spinner fa-spin bg-overlay form-control-feedback\\\"></span></div><button type=\\\"submit\\\" class=\\\"button\\\">Search</button></div><ul class=\\\"options clearfix nav nav-tabs home-tabs\\\"><li ng-class=\\\"{active: option==\\'url\\'}\\\" ng-click=\\\"setOption(\\'url\\')\\\" class=\\\"url-search\\\"><a>URL</a></li><li ng-class=\\\"{active: option==\\'upload\\'}\\\"><a ngf-select=\\\"\\\" ng-model=\\\"image\\\" ngf-accept=\\\"\\'image/*\\'\\\" ng-click=\\\"setOption(\\'upload\\')\\\" ngf-change=\\\"previewImg($files, $file, $event, $rejectedFiles)\\\" class=\\\"browse-your-files file-placeholder\\\">Upload Image</a></li></ul></div></div></form></div>\");\n$templateCache.put(\"app/components/user-panel/user-forms.html\",\"<div class=\\\"user-guard create-account\\\"><a ui-sref=\\\"signup\\\">Create account</a></div><div class=\\\"user-guard login\\\"><a ui-sref=\\\"login\\\"><span class=\\\"glyphicon glyphicon-user\\\"></span>Login</a></div>\");\n$templateCache.put(\"app/components/user-panel/user-info.html\",\"<div class=\\\"user-menu dropdown\\\"><a data-toggle=\\\"dropdown\\\">{{ currentUser.first_name + \\' \\' + currentUser.last_name }}&nbsp;<span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a><ul role=\\\"menu\\\" aria-labelledby=\\\"dLabel\\\" class=\\\"dropdown-menu\\\"><li><a ui-sref=\\\"bulk-upload\\\"><span class=\\\"fa fa-folder\\\"></span>&nbsp;My Images</a></li><li><a ui-sref=\\\"user-default\\\"><span class=\\\"glyphicon glyphicon-check\\\"></span>Image Defaults</a></li><li><a ui-sref=\\\"profile-edit\\\"><span class=\\\"glyphicon glyphicon-user\\\"></span>Edit Account</a></li><li class=\\\"divider\\\"></li><li><a ng-click=\\\"logout()\\\"><span class=\\\"glyphicon glyphicon-log-out\\\"></span>Sign out</a></li></ul></div>\");\n$templateCache.put(\"app/components/user-panel/user-panel.html\",\"<div class=\\\"user-panel\\\"><user-info ng-if=\\\"isAuthenticated()\\\"></user-info><user-forms ng-if=\\\"!isAuthenticated()\\\"></user-forms></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<navbar class=\\\"navbar-default\\\"><iw-context-menu></iw-context-menu><div class=\\\"navbar-header page-scroll\\\"><button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapsable\\\" ng-click=\\\"toggleOpenMenu()\\\" class=\\\"navbar-toggle\\\"><span class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a ui-sref=\\\"home\\\" class=\\\"navbar-brand\\\"><img ng-src=\\\"assets/images/imagewiki-logo.png\\\"></a></div><div id=\\\"navbar-collapsable\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav navbar-left\\\"><li class=\\\"page-scroll search-container\\\"><search-block></search-block></li><li class=\\\"page-scroll user-panel-container\\\"><user-panel></user-panel></li></ul></div></navbar>\");}]);"],"sourceRoot":"/source/"}